(function(root,factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){factory(require('jquery'));}else{if(root.jQuery){factory(root.jQuery);}else{factory(root.Zepto);}}}(this,function($,undefined){$.fn.jPlayerVideo=function(options){var name="jPlayerVideo";var isMethodCall=typeof options==="string",args=Array.prototype.slice.call(arguments,1),returnValue=this;options=!isMethodCall&&args.length?$.extend.apply(null,[true,options].concat(args)):options;if(isMethodCall&&options.charAt(0)==="_"){return returnValue;}
if(isMethodCall){this.each(function(){var instance=$(this).data(name),methodValue=instance&&$.isFunction(instance[options])?instance[options].apply(instance,args):instance;if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue;return false;}});}else{this.each(function(){var instance=$(this).data(name);if(instance){instance.option(options||{});}else{$(this).data(name,new $.jPlayerVideo(options,this));}});}
return returnValue;};$.jPlayerVideo=function(options,element){if(arguments.length){this.element=$(element);this.options=$.extend(true,{},this.options,options);var self=this;this.element.bind("remove.jPlayerVideo",function(){self.destroy();});this._init();}};if(typeof $.fn.stop!=='function'){$.fn.stop=function(){};}
$.jPlayerVideo.emulateMethods="load play pause";$.jPlayerVideo.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate";$.jPlayerVideo.emulateOptions="muted volume";$.jPlayerVideo.reservedEvent="ready flashreset resize repeat error warning";$.jPlayerVideo.event={};$.each(['ready','setmedia','flashreset','resize','repeat','click','error','warning','loadstart','progress','suspend','abort','emptied','stalled','play','pause','loadedmetadata','loadeddata','waiting','playing','canplay','canplaythrough','seeking','seeked','timeupdate','ended','ratechange','durationchange','volumechange'],function(){$.jPlayerVideo.event[this]='jPlayerVideo_'+this;});$.jPlayerVideo.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","canplay","canplaythrough"];$.jPlayerVideo.pause=function(){$.jPlayerVideo.prototype.destroyRemoved();$.each($.jPlayerVideo.prototype.instances,function(i,element){if(element.data("jPlayerVideo").status.srcSet){element.jPlayerVideo("pause");}});};$.jPlayerVideo.timeFormat={showHour:false,showMin:true,showSec:true,padHour:false,padMin:true,padSec:true,sepHour:":",sepMin:":",sepSec:""};var ConvertTime=function(){this.init();};ConvertTime.prototype={init:function(){this.options={timeFormat:$.jPlayerVideo.timeFormat};},time:function(s){s=(s&&typeof s==='number')?s:0;var myTime=new Date(s*1000),hour=myTime.getUTCHours(),min=this.options.timeFormat.showHour?myTime.getUTCMinutes():myTime.getUTCMinutes()+hour*60,sec=this.options.timeFormat.showMin?myTime.getUTCSeconds():myTime.getUTCSeconds()+min*60,strHour=(this.options.timeFormat.padHour&&hour<10)?"0"+hour:hour,strMin=(this.options.timeFormat.padMin&&min<10)?"0"+min:min,strSec=(this.options.timeFormat.padSec&&sec<10)?"0"+sec:sec,strTime="";strTime+=this.options.timeFormat.showHour?strHour+this.options.timeFormat.sepHour:"";strTime+=this.options.timeFormat.showMin?strMin+this.options.timeFormat.sepMin:"";strTime+=this.options.timeFormat.showSec?strSec+this.options.timeFormat.sepSec:"";return strTime;}};var myConvertTime=new ConvertTime();$.jPlayerVideo.convertTime=function(s){return myConvertTime.time(s);};$.jPlayerVideo.uaBrowser=function(userAgent){var ua=userAgent.toLowerCase();var rwebkit=/(webkit)[ \/]([\w.]+)/;var ropera=/(opera)(?:.*version)?[ \/]([\w.]+)/;var rmsie=/(msie) ([\w.]+)/;var rmozilla=/(mozilla)(?:.*? rv:([\w.]+))?/;var match=rwebkit.exec(ua)||ropera.exec(ua)||rmsie.exec(ua)||ua.indexOf("compatible")<0&&rmozilla.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"};};$.jPlayerVideo.uaPlatform=function(userAgent){var ua=userAgent.toLowerCase();var rplatform=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/;var rtablet=/(ipad|playbook)/;var randroid=/(android)/;var rmobile=/(mobile)/;var platform=rplatform.exec(ua)||[];var tablet=rtablet.exec(ua)||!rmobile.exec(ua)&&randroid.exec(ua)||[];if(platform[1]){platform[1]=platform[1].replace(/\s/g,"_");}
return{platform:platform[1]||"",tablet:tablet[1]||""};};$.jPlayerVideo.browser={};$.jPlayerVideo.platform={};var browserMatch=$.jPlayerVideo.uaBrowser(navigator.userAgent);if(browserMatch.browser){$.jPlayerVideo.browser[browserMatch.browser]=true;$.jPlayerVideo.browser.version=browserMatch.version;}
var platformMatch=$.jPlayerVideo.uaPlatform(navigator.userAgent);if(platformMatch.platform){$.jPlayerVideo.platform[platformMatch.platform]=true;$.jPlayerVideo.platform.mobile=!platformMatch.tablet;$.jPlayerVideo.platform.tablet=!!platformMatch.tablet;}
$.jPlayerVideo.getDocMode=function(){var docMode;if($.jPlayerVideo.browser.msie){if(document.documentMode){docMode=document.documentMode;}else{docMode=5;if(document.compatMode){if(document.compatMode==="CSS1Compat"){docMode=7;}}}}
return docMode;};$.jPlayerVideo.browser.documentMode=$.jPlayerVideo.getDocMode();$.jPlayerVideo.nativeFeatures={init:function(){var d=document,v=d.createElement('video'),spec={w3c:['fullscreenEnabled','fullscreenElement','requestFullscreen','exitFullscreen','fullscreenchange','fullscreenerror'],moz:['mozFullScreenEnabled','mozFullScreenElement','mozRequestFullScreen','mozCancelFullScreen','mozfullscreenchange','mozfullscreenerror'],webkit:['','webkitCurrentFullScreenElement','webkitRequestFullScreen','webkitCancelFullScreen','webkitfullscreenchange',''],webkitVideo:['webkitSupportsFullscreen','webkitDisplayingFullscreen','webkitEnterFullscreen','webkitExitFullscreen','',''],ms:['','msFullscreenElement','msRequestFullscreen','msExitFullscreen','MSFullscreenChange','MSFullscreenError']},specOrder=['w3c','moz','webkit','webkitVideo','ms'],fs,i,il;this.fullscreen=fs={support:{w3c:!!d[spec.w3c[0]],moz:!!d[spec.moz[0]],webkit:typeof d[spec.webkit[3]]==='function',webkitVideo:typeof v[spec.webkitVideo[2]]==='function',ms:typeof v[spec.ms[2]]==='function'},used:{}};for(i=0,il=specOrder.length;i<il;i++){var n=specOrder[i];if(fs.support[n]){fs.spec=n;fs.used[n]=true;break;}}
if(fs.spec){var s=spec[fs.spec];fs.api={fullscreenEnabled:true,fullscreenElement:function(elem){elem=elem?elem:d;return elem[s[1]];},requestFullscreen:function(elem){return elem[s[2]]();},exitFullscreen:function(elem){elem=elem?elem:d;return elem[s[3]]();}};fs.event={fullscreenchange:s[4],fullscreenerror:s[5]};}else{fs.api={fullscreenEnabled:false,fullscreenElement:function(){return null;},requestFullscreen:function(){},exitFullscreen:function(){}};fs.event={};}}};$.jPlayerVideo.nativeFeatures.init();$.jPlayerVideo.focus=null;$.jPlayerVideo.keyIgnoreElementNames="A INPUT TEXTAREA SELECT BUTTON";var keyBindings=function(event){var f=$.jPlayerVideo.focus,ignoreKey;if(f){$.each($.jPlayerVideo.keyIgnoreElementNames.split(/\s+/g),function(i,name){if(event.target.nodeName.toUpperCase()===name.toUpperCase()){ignoreKey=true;return false;}});if(!ignoreKey){$.each(f.options.keyBindings,function(action,binding){if((binding&&$.isFunction(binding.fn))&&((typeof binding.key==='number'&&event.which===binding.key)||(typeof binding.key==='string'&&event.key===binding.key))){event.preventDefault();binding.fn(f);return false;}});}}};$.jPlayerVideo.keys=function(en){var event="keydown.jPlayerVideo";$(document.documentElement).unbind(event);if(en){$(document.documentElement).bind(event,keyBindings);}};$.jPlayerVideo.keys(true);$.jPlayerVideo.prototype={count:0,version:{script:"2.9.2",needFlash:"2.9.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",auroraFormats:"wav",preload:'metadata',volume:0.8,muted:false,remainingDuration:false,toggleDuration:false,captureDuration:true,playbackRate:1,defaultPlaybackRate:1,minPlaybackRate:0.5,maxPlaybackRate:4,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_video_container_1",cssSelector:{videoPlay:".mdtc-clnplrv-video-play",play:".mdtc-clnplrv-play",pause:".mdtc-clnplrv-pause",stop:".mdtc-clnplrv-stop",seekBar:".mdtc-clnplrv-seek-bar",playBar:".mdtc-clnplrv-play-bar",mute:".mdtc-clnplrv-mute",unmute:".mdtc-clnplrv-unmute",volumeBar:".mdtc-clnplrv-volume-bar",volumeBarValue:".mdtc-clnplrv-volume-bar-value",volumeMax:".mdtc-clnplrv-volume-max",playbackRateBar:".mdtc-clnplrv-playback-rate-bar",playbackRateBarValue:".mdtc-clnplrv-playback-rate-bar-value",currentTime:".mdtc-clnplrv-current-time",duration:".mdtc-clnplrv-duration",title:".mdtc-clnplrv-title",fullScreen:".mdtc-clnplrv-full-screen",restoreScreen:".mdtc-clnplrv-restore-screen",repeat:".mdtc-clnplrv-repeat",repeatOff:".mdtc-clnplrv-repeat-off",gui:".mdtc-clnplrv-gui",noSolution:".mdtc-clnplrv-no-solution"},stateClass:{playing:"mdtc-clnplrv-state-playing",seeking:"mdtc-clnplrv-state-seeking",muted:"mdtc-clnplrv-state-muted",looped:"mdtc-clnplrv-state-looped",fullScreen:"mdtc-clnplrv-state-full-screen",noVolume:"mdtc-clnplrv-state-no-volume"},useStateClassSkin:false,autoBlur:true,smoothPlayBar:false,fullScreen:false,fullWindow:false,autohide:{restored:false,full:true,fadeIn:200,fadeOut:600,hold:1000},loop:false,repeat:function(event){if(event.jPlayerVideo.options.loop){$(this).unbind(".jPlayerVideoRepeat").bind($.jPlayerVideo.event.ended+".jPlayerVideo.jPlayerVideoRepeat",function(){$(this).jPlayerVideo("play");});}else{$(this).unbind(".jPlayerVideoRepeat");}},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/(?=.*android)(?!.*chrome)(?=.*mobile)/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:false,audioFullScreen:false,keyBindings:{play:{key:80,fn:function(f){if(f.status.paused){f.play();}else{f.pause();}}},fullScreen:{key:70,fn:function(f){if(f.status.video||f.options.audioFullScreen){f._setOption("fullScreen",!f.options.fullScreen);}}},muted:{key:77,fn:function(f){f._muted(!f.options.muted);}},volumeUp:{key:190,fn:function(f){f.volume(f.options.volume+0.1);}},volumeDown:{key:188,fn:function(f){f.volume(f.options.volume-0.1);}},loop:{key:76,fn:function(f){f._loop(!f.options.loop);}}},verticalVolume:false,verticalPlaybackRate:false,globalVolume:false,idPrefix:"jp_video_",noConflict:"jQuery",emulateHtml:false,consoleAlerts:true,errorAlerts:false,warningAlerts:false},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"mdtc-clnplrv-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"mdtc-clnplrv-video-full"}},instances:{},status:{src:"",media:{},paused:true,format:{},formatType:"",waitForPlay:true,waitForLoad:true,srcSet:false,video:false,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,remaining:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:false},solution:{html:true,aurora:true,flash:true},format:{mp3:{codec:'audio/mpeg',flashCanPlay:true,media:'audio'},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:true,media:'audio'},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs="mp4a.40.2"',flashCanPlay:false,media:'audio'},m3ua:{codec:'audio/mpegurl',flashCanPlay:false,media:'audio'},oga:{codec:'audio/ogg; codecs="vorbis, opus"',flashCanPlay:false,media:'audio'},flac:{codec:'audio/x-flac',flashCanPlay:false,media:'audio'},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:false,media:'audio'},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:false,media:'audio'},fla:{codec:'audio/x-flv',flashCanPlay:true,media:'audio'},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:true,media:'audio'},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:true,media:'video'},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:false,media:'video'},m3uv:{codec:'audio/mpegurl',flashCanPlay:false,media:'video'},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:false,media:'video'},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:false,media:'video'},flv:{codec:'video/x-flv',flashCanPlay:true,media:'video'},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:true,media:'video'}},_init:function(){var self=this;this.element.empty();this.status=$.extend({},this.status);this.internal=$.extend({},this.internal);this.options.timeFormat=$.extend({},$.jPlayerVideo.timeFormat,this.options.timeFormat);this.internal.cmdsIgnored=$.jPlayerVideo.platform.ipad||$.jPlayerVideo.platform.iphone||$.jPlayerVideo.platform.ipod;this.internal.domNode=this.element.get(0);if(this.options.keyEnabled&&!$.jPlayerVideo.focus){$.jPlayerVideo.focus=this;}
this.androidFix={setMedia:false,play:false,pause:false,time:NaN};if($.jPlayerVideo.platform.android){this.options.preload=this.options.preload!=='auto'?'metadata':'auto';}
this.formats=[];this.solutions=[];this.require={};this.htmlElement={};this.html={};this.html.audio={};this.html.video={};this.aurora={};this.aurora.formats=[];this.aurora.properties=[];this.flash={};this.css={};this.css.cs={};this.css.jq={};this.ancestorJq=[];this.options.volume=this._limitValue(this.options.volume,0,1);$.each(this.options.supplied.toLowerCase().split(","),function(index1,value1){var format=value1.replace(/^\s+|\s+$/g,"");if(self.format[format]){var dupFound=false;$.each(self.formats,function(index2,value2){if(format===value2){dupFound=true;return false;}});if(!dupFound){self.formats.push(format);}}});$.each(this.options.solution.toLowerCase().split(","),function(index1,value1){var solution=value1.replace(/^\s+|\s+$/g,"");if(self.solution[solution]){var dupFound=false;$.each(self.solutions,function(index2,value2){if(solution===value2){dupFound=true;return false;}});if(!dupFound){self.solutions.push(solution);}}});$.each(this.options.auroraFormats.toLowerCase().split(","),function(index1,value1){var format=value1.replace(/^\s+|\s+$/g,"");if(self.format[format]){var dupFound=false;$.each(self.aurora.formats,function(index2,value2){if(format===value2){dupFound=true;return false;}});if(!dupFound){self.aurora.formats.push(format);}}});this.internal.instance="jp_video_"+this.count;this.instances[this.internal.instance]=this.element;if(!this.element.attr("id")){this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count);}
this.internal.self=$.extend({},{id:this.element.attr("id"),jq:this.element});this.internal.audio=$.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:undefined});this.internal.video=$.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:undefined});this.internal.flash=$.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:undefined,swf:this.options.swfPath+(this.options.swfPath.toLowerCase().slice(-4)!==".swf"?(this.options.swfPath&&this.options.swfPath.slice(-1)!=="/"?"/":"")+"jquery.jplayer.swf":"")});this.internal.poster=$.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:undefined});$.each($.jPlayerVideo.event,function(eventName,eventType){if(self.options[eventName]!==undefined){self.element.bind(eventType+".jPlayerVideo",self.options[eventName]);self.options[eventName]=undefined;}});this.require.audio=false;this.require.video=false;$.each(this.formats,function(priority,format){self.require[self.format[format].media]=true;});if(this.require.video){this.options=$.extend(true,{},this.optionsVideo,this.options);}else{this.options=$.extend(true,{},this.optionsAudio,this.options);}
this._setSize();this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow);this.status.noVolume=this._uaBlocklist(this.options.noVolume);if($.jPlayerVideo.nativeFeatures.fullscreen.api.fullscreenEnabled){this._fullscreenAddEventListeners();}
this._restrictNativeVideoControls();this.htmlElement.poster=document.createElement('img');this.htmlElement.poster.id=this.internal.poster.id;this.htmlElement.poster.onload=function(){if(!self.status.video||self.status.waitForPlay){self.internal.poster.jq.show();}};this.element.append(this.htmlElement.poster);this.internal.poster.jq=$("#"+this.internal.poster.id);this.internal.poster.jq.css({'width':this.status.width,'height':this.status.height});this.internal.poster.jq.hide();this.internal.poster.jq.bind("click.jPlayerVideo",function(){self._trigger($.jPlayerVideo.event.click);});this.html.audio.available=false;if(this.require.audio){this.htmlElement.audio=document.createElement('audio');this.htmlElement.audio.id=this.internal.audio.id;this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio);}
this.html.video.available=false;if(this.require.video){this.htmlElement.video=document.createElement('video');this.htmlElement.video.id=this.internal.video.id;this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video);}
this.flash.available=this._checkForFlash(10.1);this.html.canPlay={};this.aurora.canPlay={};this.flash.canPlay={};$.each(this.formats,function(priority,format){self.html.canPlay[format]=self.html[self.format[format].media].available&&""!==self.htmlElement[self.format[format].media].canPlayType(self.format[format].codec);self.aurora.canPlay[format]=($.inArray(format,self.aurora.formats)>-1);self.flash.canPlay[format]=self.format[format].flashCanPlay&&self.flash.available;});this.html.desired=false;this.aurora.desired=false;this.flash.desired=false;$.each(this.solutions,function(solutionPriority,solution){if(solutionPriority===0){self[solution].desired=true;}else{var audioCanPlay=false;var videoCanPlay=false;$.each(self.formats,function(formatPriority,format){if(self[self.solutions[0]].canPlay[format]){if(self.format[format].media==='video'){videoCanPlay=true;}else{audioCanPlay=true;}}});self[solution].desired=(self.require.audio&&!audioCanPlay)||(self.require.video&&!videoCanPlay);}});this.html.support={};this.aurora.support={};this.flash.support={};$.each(this.formats,function(priority,format){self.html.support[format]=self.html.canPlay[format]&&self.html.desired;self.aurora.support[format]=self.aurora.canPlay[format]&&self.aurora.desired;self.flash.support[format]=self.flash.canPlay[format]&&self.flash.desired;});this.html.used=false;this.aurora.used=false;this.flash.used=false;$.each(this.solutions,function(solutionPriority,solution){$.each(self.formats,function(formatPriority,format){if(self[solution].support[format]){self[solution].used=true;return false;}});});this._resetActive();this._resetGate();this._cssSelectorAncestor(this.options.cssSelectorAncestor);if(!(this.html.used||this.aurora.used||this.flash.used)){this._error({type:$.jPlayerVideo.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:$.jPlayerVideo.errorMsg.NO_SOLUTION,hint:$.jPlayerVideo.errorHint.NO_SOLUTION});if(this.css.jq.noSolution.length){this.css.jq.noSolution.show();}}else{if(this.css.jq.noSolution.length){this.css.jq.noSolution.hide();}}
if(this.flash.used){var htmlObj,flashVars='jQuery='+encodeURI(this.options.noConflict)+'&id='+encodeURI(this.internal.self.id)+'&vol='+this.options.volume+'&muted='+this.options.muted;if($.jPlayerVideo.browser.msie&&(Number($.jPlayerVideo.browser.version)<9||$.jPlayerVideo.browser.documentMode<9)){var objStr='<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0" tabindex="-1"></object>';var paramStr=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+flashVars+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];htmlObj=document.createElement(objStr);for(var i=0;i<paramStr.length;i++){htmlObj.appendChild(document.createElement(paramStr[i]));}}else{var createParam=function(el,n,v){var p=document.createElement("param");p.setAttribute("name",n);p.setAttribute("value",v);el.appendChild(p);};htmlObj=document.createElement("object");htmlObj.setAttribute("id",this.internal.flash.id);htmlObj.setAttribute("name",this.internal.flash.id);htmlObj.setAttribute("data",this.internal.flash.swf);htmlObj.setAttribute("type","application/x-shockwave-flash");htmlObj.setAttribute("width","1");htmlObj.setAttribute("height","1");htmlObj.setAttribute("tabindex","-1");createParam(htmlObj,"flashvars",flashVars);createParam(htmlObj,"allowscriptaccess","always");createParam(htmlObj,"bgcolor",this.options.backgroundColor);createParam(htmlObj,"wmode",this.options.wmode);}
this.element.append(htmlObj);this.internal.flash.jq=$(htmlObj);}
if(this.html.used&&!this.flash.used){this.status.playbackRateEnabled=this._testPlaybackRate('audio');}else{this.status.playbackRateEnabled=false;}
this._updatePlaybackRate();if(this.html.used){if(this.html.audio.available){this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio);this.element.append(this.htmlElement.audio);this.internal.audio.jq=$("#"+this.internal.audio.id);}
if(this.html.video.available){this._addHtmlEventListeners(this.htmlElement.video,this.html.video);this.element.append(this.htmlElement.video);this.internal.video.jq=$("#"+this.internal.video.id);if(this.status.nativeVideoControls){this.internal.video.jq.css({'width':this.status.width,'height':this.status.height});}else{this.internal.video.jq.css({'width':'0px','height':'0px'});}
this.internal.video.jq.bind("click.jPlayerVideo",function(){self._trigger($.jPlayerVideo.event.click);});}}
if(this.aurora.used){}
if(this.options.emulateHtml){this._emulateHtmlBridge();}
if((this.html.used||this.aurora.used)&&!this.flash.used){setTimeout(function(){self.internal.ready=true;self.version.flash="n/a";self._trigger($.jPlayerVideo.event.repeat);self._trigger($.jPlayerVideo.event.ready);},100);}
this._updateNativeVideoControls();if(this.css.jq.videoPlay.length){this.css.jq.videoPlay.hide();}
$.jPlayerVideo.prototype.count++;},destroy:function(){this.clearMedia();this._removeUiClass();if(this.css.jq.currentTime.length){this.css.jq.currentTime.text("");}
if(this.css.jq.duration.length){this.css.jq.duration.text("");}
$.each(this.css.jq,function(fn,jq){if(jq.length){jq.unbind(".jPlayerVideo");}});this.internal.poster.jq.unbind(".jPlayerVideo");if(this.internal.video.jq){this.internal.video.jq.unbind(".jPlayerVideo");}
this._fullscreenRemoveEventListeners();if(this===$.jPlayerVideo.focus){$.jPlayerVideo.focus=null;}
if(this.options.emulateHtml){this._destroyHtmlBridge();}
this.element.removeData("jPlayerVideo");this.element.unbind(".jPlayerVideo");this.element.empty();delete this.instances[this.internal.instance];},destroyRemoved:function(){var self=this;$.each(this.instances,function(i,element){if(self.element!==element){if(!element.data("jPlayerVideo")){element.jPlayerVideo("destroy");delete self.instances[i];}}});},enable:function(){},disable:function(){},_testCanPlayType:function(elem){try{elem.canPlayType(this.format.mp3.codec);return true;}catch(err){return false;}},_testPlaybackRate:function(type){var el,rate=0.5;type=typeof type==='string'?type:'audio';el=document.createElement(type);try{if('playbackRate'in el){el.playbackRate=rate;return el.playbackRate===rate;}else{return false;}}catch(err){return false;}},_uaBlocklist:function(list){var ua=navigator.userAgent.toLowerCase(),block=false;$.each(list,function(p,re){if(re&&re.test(ua)){block=true;return false;}});return block;},_restrictNativeVideoControls:function(){if(this.require.audio){if(this.status.nativeVideoControls){this.status.nativeVideoControls=false;this.status.noFullWindow=true;}}},_updateNativeVideoControls:function(){if(this.html.video.available&&this.html.used){this.htmlElement.video.controls=this.status.nativeVideoControls;this._updateAutohide();if(this.status.nativeVideoControls&&this.require.video){this.internal.poster.jq.hide();this.internal.video.jq.css({'width':this.status.width,'height':this.status.height});}else if(this.status.waitForPlay&&this.status.video){this.internal.poster.jq.show();this.internal.video.jq.css({'width':'0px','height':'0px'});}}},_addHtmlEventListeners:function(mediaElement,entity){var self=this;mediaElement.preload=this.options.preload;mediaElement.muted=this.options.muted;mediaElement.volume=this.options.volume;if(this.status.playbackRateEnabled){mediaElement.defaultPlaybackRate=this.options.defaultPlaybackRate;mediaElement.playbackRate=this.options.playbackRate;}
mediaElement.addEventListener("progress",function(){if(entity.gate){if(self.internal.cmdsIgnored&&this.readyState>0){self.internal.cmdsIgnored=false;}
self._getHtmlStatus(mediaElement);self._updateInterface();self._trigger($.jPlayerVideo.event.progress);}},false);mediaElement.addEventListener("loadeddata",function(){if(entity.gate){self.androidFix.setMedia=false;if(self.androidFix.play){self.androidFix.play=false;self.play(self.androidFix.time);}
if(self.androidFix.pause){self.androidFix.pause=false;self.pause(self.androidFix.time);}
self._trigger($.jPlayerVideo.event.loadeddata);}},false);mediaElement.addEventListener("timeupdate",function(){if(entity.gate){self._getHtmlStatus(mediaElement);self._updateInterface();self._trigger($.jPlayerVideo.event.timeupdate);}},false);mediaElement.addEventListener("durationchange",function(){if(entity.gate){self._getHtmlStatus(mediaElement);self._updateInterface();self._trigger($.jPlayerVideo.event.durationchange);}},false);mediaElement.addEventListener("play",function(){if(entity.gate){self._updateButtons(true);self._html_checkWaitForPlay();self._trigger($.jPlayerVideo.event.play);}},false);mediaElement.addEventListener("playing",function(){if(entity.gate){self._updateButtons(true);self._seeked();self._trigger($.jPlayerVideo.event.playing);}},false);mediaElement.addEventListener("pause",function(){if(entity.gate){self._updateButtons(false);self._trigger($.jPlayerVideo.event.pause);}},false);mediaElement.addEventListener("waiting",function(){if(entity.gate){self._seeking();self._trigger($.jPlayerVideo.event.waiting);}},false);mediaElement.addEventListener("seeking",function(){if(entity.gate){self._seeking();self._trigger($.jPlayerVideo.event.seeking);}},false);mediaElement.addEventListener("seeked",function(){if(entity.gate){self._seeked();self._trigger($.jPlayerVideo.event.seeked);}},false);mediaElement.addEventListener("volumechange",function(){if(entity.gate){self.options.volume=mediaElement.volume;self.options.muted=mediaElement.muted;self._updateMute();self._updateVolume();self._trigger($.jPlayerVideo.event.volumechange);}},false);mediaElement.addEventListener("ratechange",function(){if(entity.gate){self.options.defaultPlaybackRate=mediaElement.defaultPlaybackRate;self.options.playbackRate=mediaElement.playbackRate;self._updatePlaybackRate();self._trigger($.jPlayerVideo.event.ratechange);}},false);mediaElement.addEventListener("suspend",function(){if(entity.gate){self._seeked();self._trigger($.jPlayerVideo.event.suspend);}},false);mediaElement.addEventListener("ended",function(){if(entity.gate){if(!$.jPlayerVideo.browser.webkit){self.htmlElement.media.currentTime=0;}
self.htmlElement.media.pause();self._updateButtons(false);self._getHtmlStatus(mediaElement,true);self._updateInterface();self._trigger($.jPlayerVideo.event.ended);}},false);mediaElement.addEventListener("error",function(){if(entity.gate){self._updateButtons(false);self._seeked();if(self.status.srcSet){clearTimeout(self.internal.htmlDlyCmdId);self.status.waitForLoad=true;self.status.waitForPlay=true;if(self.status.video&&!self.status.nativeVideoControls){self.internal.video.jq.css({'width':'0px','height':'0px'});}
if(self._validString(self.status.media.poster)&&!self.status.nativeVideoControls){self.internal.poster.jq.show();}
if(self.css.jq.videoPlay.length){self.css.jq.videoPlay.show();}
self._error({type:$.jPlayerVideo.error.URL,context:self.status.src,message:$.jPlayerVideo.errorMsg.URL,hint:$.jPlayerVideo.errorHint.URL});}}},false);$.each($.jPlayerVideo.htmlEvent,function(i,eventType){mediaElement.addEventListener(this,function(){if(entity.gate){self._trigger($.jPlayerVideo.event[eventType]);}},false);});},_addAuroraEventListeners:function(player,entity){var self=this;player.volume=this.options.volume*100;player.on("progress",function(){if(entity.gate){if(self.internal.cmdsIgnored&&this.readyState>0){self.internal.cmdsIgnored=false;}
self._getAuroraStatus(player);self._updateInterface();self._trigger($.jPlayerVideo.event.progress);if(player.duration>0){self._trigger($.jPlayerVideo.event.timeupdate);}}},false);player.on("ready",function(){if(entity.gate){self._trigger($.jPlayerVideo.event.loadeddata);}},false);player.on("duration",function(){if(entity.gate){self._getAuroraStatus(player);self._updateInterface();self._trigger($.jPlayerVideo.event.durationchange);}},false);player.on("end",function(){if(entity.gate){self._updateButtons(false);self._getAuroraStatus(player,true);self._updateInterface();self._trigger($.jPlayerVideo.event.ended);}},false);player.on("error",function(){if(entity.gate){self._updateButtons(false);self._seeked();if(self.status.srcSet){self.status.waitForLoad=true;self.status.waitForPlay=true;if(self.status.video&&!self.status.nativeVideoControls){self.internal.video.jq.css({'width':'0px','height':'0px'});}
if(self._validString(self.status.media.poster)&&!self.status.nativeVideoControls){self.internal.poster.jq.show();}
if(self.css.jq.videoPlay.length){self.css.jq.videoPlay.show();}
self._error({type:$.jPlayerVideo.error.URL,context:self.status.src,message:$.jPlayerVideo.errorMsg.URL,hint:$.jPlayerVideo.errorHint.URL});}}},false);},_getHtmlStatus:function(media,override){var ct=0,cpa=0,sp=0,cpr=0;if(isFinite(media.duration)){this.status.duration=media.duration;}
ct=media.currentTime;cpa=(this.status.duration>0)?100*ct/this.status.duration:0;if((typeof media.seekable==="object")&&(media.seekable.length>0)){sp=(this.status.duration>0)?100*media.seekable.end(media.seekable.length-1)/this.status.duration:100;cpr=(this.status.duration>0)?100*media.currentTime/media.seekable.end(media.seekable.length-1):0;}else{sp=100;cpr=cpa;}
if(override){ct=0;cpr=0;cpa=0;}
this.status.seekPercent=sp;this.status.currentPercentRelative=cpr;this.status.currentPercentAbsolute=cpa;this.status.currentTime=ct;this.status.remaining=this.status.duration-this.status.currentTime;this.status.videoWidth=media.videoWidth;this.status.videoHeight=media.videoHeight;this.status.readyState=media.readyState;this.status.networkState=media.networkState;this.status.playbackRate=media.playbackRate;this.status.ended=media.ended;},_getAuroraStatus:function(player,override){var ct=0,cpa=0,sp=0,cpr=0;this.status.duration=player.duration/1000;ct=player.currentTime/1000;cpa=(this.status.duration>0)?100*ct/this.status.duration:0;if(player.buffered>0){sp=(this.status.duration>0)?(player.buffered*this.status.duration)/this.status.duration:100;cpr=(this.status.duration>0)?ct/(player.buffered*this.status.duration):0;}else{sp=100;cpr=cpa;}
if(override){ct=0;cpr=0;cpa=0;}
this.status.seekPercent=sp;this.status.currentPercentRelative=cpr;this.status.currentPercentAbsolute=cpa;this.status.currentTime=ct;this.status.remaining=this.status.duration-this.status.currentTime;this.status.readyState=4;this.status.networkState=0;this.status.playbackRate=1;this.status.ended=false;},_resetStatus:function(){this.status=$.extend({},this.status,$.jPlayerVideo.prototype.status);},_trigger:function(eventType,error,warning){var event=$.Event(eventType);event.jPlayerVideo={};event.jPlayerVideo.version=$.extend({},this.version);event.jPlayerVideo.options=$.extend(true,{},this.options);event.jPlayerVideo.status=$.extend(true,{},this.status);event.jPlayerVideo.html=$.extend(true,{},this.html);event.jPlayerVideo.aurora=$.extend(true,{},this.aurora);event.jPlayerVideo.flash=$.extend(true,{},this.flash);if(error){event.jPlayerVideo.error=$.extend({},error);}
if(warning){event.jPlayerVideo.warning=$.extend({},warning);}
this.element.trigger(event);},jPlayerVideoFlashEvent:function(eventType,status){if(eventType===$.jPlayerVideo.event.ready){if(!this.internal.ready){this.internal.ready=true;this.internal.flash.jq.css({'width':'0px','height':'0px'});this.version.flash=status.version;if(this.version.needFlash!==this.version.flash){this._error({type:$.jPlayerVideo.error.VERSION,context:this.version.flash,message:$.jPlayerVideo.errorMsg.VERSION+this.version.flash,hint:$.jPlayerVideo.errorHint.VERSION});}
this._trigger($.jPlayerVideo.event.repeat);this._trigger(eventType);}else{if(this.flash.gate){if(this.status.srcSet){var currentTime=this.status.currentTime,paused=this.status.paused;this.setMedia(this.status.media);this.volumeWorker(this.options.volume);if(currentTime>0){if(paused){this.pause(currentTime);}else{this.play(currentTime);}}}
this._trigger($.jPlayerVideo.event.flashreset);}}}
if(this.flash.gate){switch(eventType){case $.jPlayerVideo.event.progress:this._getFlashStatus(status);this._updateInterface();this._trigger(eventType);break;case $.jPlayerVideo.event.timeupdate:this._getFlashStatus(status);this._updateInterface();this._trigger(eventType);break;case $.jPlayerVideo.event.play:this._seeked();this._updateButtons(true);this._trigger(eventType);break;case $.jPlayerVideo.event.pause:this._updateButtons(false);this._trigger(eventType);break;case $.jPlayerVideo.event.ended:this._updateButtons(false);this._trigger(eventType);break;case $.jPlayerVideo.event.click:this._trigger(eventType);break;case $.jPlayerVideo.event.error:this.status.waitForLoad=true;this.status.waitForPlay=true;if(this.status.video){this.internal.flash.jq.css({'width':'0px','height':'0px'});}
if(this._validString(this.status.media.poster)){this.internal.poster.jq.show();}
if(this.css.jq.videoPlay.length&&this.status.video){this.css.jq.videoPlay.show();}
if(this.status.video){this._flash_setVideo(this.status.media);}else{this._flash_setAudio(this.status.media);}
this._updateButtons(false);this._error({type:$.jPlayerVideo.error.URL,context:status.src,message:$.jPlayerVideo.errorMsg.URL,hint:$.jPlayerVideo.errorHint.URL});break;case $.jPlayerVideo.event.seeking:this._seeking();this._trigger(eventType);break;case $.jPlayerVideo.event.seeked:this._seeked();this._trigger(eventType);break;case $.jPlayerVideo.event.ready:break;default:this._trigger(eventType);}}
return false;},_getFlashStatus:function(status){this.status.seekPercent=status.seekPercent;this.status.currentPercentRelative=status.currentPercentRelative;this.status.currentPercentAbsolute=status.currentPercentAbsolute;this.status.currentTime=status.currentTime;this.status.duration=status.duration;this.status.remaining=status.duration-status.currentTime;this.status.videoWidth=status.videoWidth;this.status.videoHeight=status.videoHeight;this.status.readyState=4;this.status.networkState=0;this.status.playbackRate=1;this.status.ended=false;},_updateButtons:function(playing){if(playing===undefined){playing=!this.status.paused;}else{this.status.paused=!playing;}
if(playing){this.addStateClass('playing');}else{this.removeStateClass('playing');}
if(!this.status.noFullWindow&&this.options.fullWindow){this.addStateClass('fullScreen');}else{this.removeStateClass('fullScreen');}
if(this.options.loop){this.addStateClass('looped');}else{this.removeStateClass('looped');}
if(this.css.jq.play.length&&this.css.jq.pause.length){if(playing){this.css.jq.play.hide();this.css.jq.pause.show();}else{this.css.jq.play.show();this.css.jq.pause.hide();}}
if(this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length){if(this.status.noFullWindow){this.css.jq.fullScreen.hide();this.css.jq.restoreScreen.hide();}else if(this.options.fullWindow){this.css.jq.fullScreen.hide();this.css.jq.restoreScreen.show();}else{this.css.jq.fullScreen.show();this.css.jq.restoreScreen.hide();}}
if(this.css.jq.repeat.length&&this.css.jq.repeatOff.length){if(this.options.loop){this.css.jq.repeat.hide();this.css.jq.repeatOff.show();}else{this.css.jq.repeat.show();this.css.jq.repeatOff.hide();}}},_updateInterface:function(){if(this.css.jq.seekBar.length){this.css.jq.seekBar.width(this.status.seekPercent+"%");}
if(this.css.jq.playBar.length){if(this.options.smoothPlayBar){this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear");}else{this.css.jq.playBar.width(this.status.currentPercentRelative+"%");}}
var currentTimeText='';if(this.css.jq.currentTime.length){currentTimeText=this._convertTime(this.status.currentTime);if(currentTimeText!==this.css.jq.currentTime.text()){this.css.jq.currentTime.text(this._convertTime(this.status.currentTime));}}
var durationText='',duration=this.status.duration,remaining=this.status.remaining;if(this.css.jq.duration.length){if(typeof this.status.media.duration==='string'){durationText=this.status.media.duration;}else{if(typeof this.status.media.duration==='number'){duration=this.status.media.duration;remaining=duration-this.status.currentTime;}
if(this.options.remainingDuration){durationText=(remaining>0?'-':'')+this._convertTime(remaining);}else{durationText=this._convertTime(duration);}}
if(durationText!==this.css.jq.duration.text()){this.css.jq.duration.text(durationText);}}},_convertTime:ConvertTime.prototype.time,_seeking:function(){if(this.css.jq.seekBar.length){this.css.jq.seekBar.addClass("mdtc-clnplrv-seeking-bg");}
this.addStateClass('seeking');},_seeked:function(){if(this.css.jq.seekBar.length){this.css.jq.seekBar.removeClass("mdtc-clnplrv-seeking-bg");}
this.removeStateClass('seeking');},_resetGate:function(){this.html.audio.gate=false;this.html.video.gate=false;this.aurora.gate=false;this.flash.gate=false;},_resetActive:function(){this.html.active=false;this.aurora.active=false;this.flash.active=false;},_escapeHtml:function(s){return s.split('&').join('&amp;').split('<').join('&lt;').split('>').join('&gt;').split('"').join('&quot;');},_qualifyURL:function(url){var el=document.createElement('div');el.innerHTML='<a href="'+this._escapeHtml(url)+'">x</a>';return el.firstChild.href;},_absoluteMediaUrls:function(media){var self=this;$.each(media,function(type,url){if(url&&self.format[type]&&url.substr(0,5)!=="data:"){media[type]=self._qualifyURL(url);}});return media;},addStateClass:function(state){if(this.ancestorJq.length){this.ancestorJq.addClass(this.options.stateClass[state]);}},removeStateClass:function(state){if(this.ancestorJq.length){this.ancestorJq.removeClass(this.options.stateClass[state]);}},setMedia:function(media){var self=this,supported=false,posterChanged=this.status.media.poster!==media.poster;this._resetMedia();this._resetGate();this._resetActive();this.androidFix.setMedia=false;this.androidFix.play=false;this.androidFix.pause=false;media=this._absoluteMediaUrls(media);$.each(this.formats,function(formatPriority,format){var isVideo=self.format[format].media==='video';$.each(self.solutions,function(solutionPriority,solution){if(self[solution].support[format]&&self._validString(media[format])){var isHtml=solution==='html';var isAurora=solution==='aurora';if(isVideo){if(isHtml){self.html.video.gate=true;self._html_setVideo(media);self.html.active=true;}else{self.flash.gate=true;self._flash_setVideo(media);self.flash.active=true;}
if(self.css.jq.videoPlay.length){self.css.jq.videoPlay.show();}
self.status.video=true;}else{if(isHtml){self.html.audio.gate=true;self._html_setAudio(media);self.html.active=true;if($.jPlayerVideo.platform.android){self.androidFix.setMedia=true;}}else if(isAurora){self.aurora.gate=true;self._aurora_setAudio(media);self.aurora.active=true;}else{self.flash.gate=true;self._flash_setAudio(media);self.flash.active=true;}
if(self.css.jq.videoPlay.length){self.css.jq.videoPlay.hide();}
self.status.video=false;}
supported=true;return false;}});if(supported){return false;}});if(supported){if(!(this.status.nativeVideoControls&&this.html.video.gate)){if(this._validString(media.poster)){if(posterChanged){this.htmlElement.poster.src=media.poster;}else{this.internal.poster.jq.show();}}}
if(typeof media.title==='string'){if(this.css.jq.title.length){this.css.jq.title.html(media.title);}
if(this.htmlElement.audio){this.htmlElement.audio.setAttribute('title',media.title);}
if(this.htmlElement.video){this.htmlElement.video.setAttribute('title',media.title);}}
this.status.srcSet=true;this.status.media=$.extend({},media);this._updateButtons(false);this._updateInterface();this._trigger($.jPlayerVideo.event.setmedia);}else{this._error({type:$.jPlayerVideo.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:$.jPlayerVideo.errorMsg.NO_SUPPORT,hint:$.jPlayerVideo.errorHint.NO_SUPPORT});}},_resetMedia:function(){this._resetStatus();this._updateButtons(false);this._updateInterface();this._seeked();this.internal.poster.jq.hide();clearTimeout(this.internal.htmlDlyCmdId);if(this.html.active){this._html_resetMedia();}else if(this.aurora.active){this._aurora_resetMedia();}else if(this.flash.active){this._flash_resetMedia();}},clearMedia:function(){this._resetMedia();if(this.html.active){this._html_clearMedia();}else if(this.aurora.active){this._aurora_clearMedia();}else if(this.flash.active){this._flash_clearMedia();}
this._resetGate();this._resetActive();},load:function(){if(this.status.srcSet){if(this.html.active){this._html_load();}else if(this.aurora.active){this._aurora_load();}else if(this.flash.active){this._flash_load();}}else{this._urlNotSetError("load");}},focus:function(){if(this.options.keyEnabled){$.jPlayerVideo.focus=this;}},play:function(time){var guiAction=typeof time==="object";if(guiAction&&this.options.useStateClassSkin&&!this.status.paused){this.pause(time);}else{time=(typeof time==="number")?time:NaN;if(this.status.srcSet){this.focus();if(this.html.active){this._html_play(time);}else if(this.aurora.active){this._aurora_play(time);}else if(this.flash.active){this._flash_play(time);}}else{this._urlNotSetError("play");}}},videoPlay:function(){this.play();},pause:function(time){time=(typeof time==="number")?time:NaN;if(this.status.srcSet){if(this.html.active){this._html_pause(time);}else if(this.aurora.active){this._aurora_pause(time);}else if(this.flash.active){this._flash_pause(time);}}else{this._urlNotSetError("pause");}},tellOthers:function(command,conditions){var self=this,hasConditions=typeof conditions==='function',args=Array.prototype.slice.call(arguments);if(typeof command!=='string'){return;}
if(hasConditions){args.splice(1,1);}
$.jPlayerVideo.prototype.destroyRemoved();$.each(this.instances,function(){if(self.element!==this){if(!hasConditions||conditions.call(this.data("jPlayerVideo"),self)){this.jPlayerVideo.apply(this,args);}}});},pauseOthers:function(time){this.tellOthers("pause",function(){return this.status.srcSet;},time);},stop:function(){if(this.status.srcSet){if(this.html.active){this._html_pause(0);}else if(this.aurora.active){this._aurora_pause(0);}else if(this.flash.active){this._flash_pause(0);}}else{this._urlNotSetError("stop");}},playHead:function(p){p=this._limitValue(p,0,100);if(this.status.srcSet){if(this.html.active){this._html_playHead(p);}else if(this.aurora.active){this._aurora_playHead(p);}else if(this.flash.active){this._flash_playHead(p);}}else{this._urlNotSetError("playHead");}},_muted:function(muted){this.mutedWorker(muted);if(this.options.globalVolume){this.tellOthers("mutedWorker",function(){return this.options.globalVolume;},muted);}},mutedWorker:function(muted){this.options.muted=muted;if(this.html.used){this._html_setProperty('muted',muted);}
if(this.aurora.used){this._aurora_mute(muted);}
if(this.flash.used){this._flash_mute(muted);}
if(!this.html.video.gate&&!this.html.audio.gate){this._updateMute(muted);this._updateVolume(this.options.volume);this._trigger($.jPlayerVideo.event.volumechange);}},mute:function(mute){var guiAction=typeof mute==="object";if(guiAction&&this.options.useStateClassSkin&&this.options.muted){this._muted(false);}else{mute=mute===undefined?true:!!mute;this._muted(mute);}},unmute:function(unmute){unmute=unmute===undefined?true:!!unmute;this._muted(!unmute);},_updateMute:function(mute){if(mute===undefined){mute=this.options.muted;}
if(mute){this.addStateClass('muted');}else{this.removeStateClass('muted');}
if(this.css.jq.mute.length&&this.css.jq.unmute.length){if(this.status.noVolume){this.css.jq.mute.hide();this.css.jq.unmute.hide();}else if(mute){this.css.jq.mute.hide();this.css.jq.unmute.show();}else{this.css.jq.mute.show();this.css.jq.unmute.hide();}}},volume:function(v){this.volumeWorker(v);if(this.options.globalVolume){this.tellOthers("volumeWorker",function(){return this.options.globalVolume;},v);}},volumeWorker:function(v){v=this._limitValue(v,0,1);this.options.volume=v;if(this.html.used){this._html_setProperty('volume',v);}
if(this.aurora.used){this._aurora_volume(v);}
if(this.flash.used){this._flash_volume(v);}
if(!this.html.video.gate&&!this.html.audio.gate){this._updateVolume(v);this._trigger($.jPlayerVideo.event.volumechange);}},volumeBar:function(e){if(this.css.jq.volumeBar.length){var $bar=$(e.currentTarget),offset=$bar.offset(),x=e.pageX-offset.left,w=$bar.width(),y=$bar.height()-e.pageY+offset.top,h=$bar.height();if(this.options.verticalVolume){this.volume(y/h);}else{this.volume(x/w);}}
if(this.options.muted){this._muted(false);}},_updateVolume:function(v){if(v===undefined){v=this.options.volume;}
v=this.options.muted?0:v;if(this.status.noVolume){this.addStateClass('noVolume');if(this.css.jq.volumeBar.length){this.css.jq.volumeBar.hide();}
if(this.css.jq.volumeBarValue.length){this.css.jq.volumeBarValue.hide();}
if(this.css.jq.volumeMax.length){this.css.jq.volumeMax.hide();}}else{this.removeStateClass('noVolume');if(this.css.jq.volumeBar.length){this.css.jq.volumeBar.show();}
if(this.css.jq.volumeBarValue.length){this.css.jq.volumeBarValue.show();this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"]((v*100)+"%");}
if(this.css.jq.volumeMax.length){this.css.jq.volumeMax.show();}}},volumeMax:function(){this.volume(1);if(this.options.muted){this._muted(false);}},_cssSelectorAncestor:function(ancestor){var self=this;this.options.cssSelectorAncestor=ancestor;this._removeUiClass();this.ancestorJq=ancestor?$(ancestor):[];if(ancestor&&this.ancestorJq.length!==1){this._warning({type:$.jPlayerVideo.warning.CSS_SELECTOR_COUNT,context:ancestor,message:$.jPlayerVideo.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:$.jPlayerVideo.warningHint.CSS_SELECTOR_COUNT});}
this._addUiClass();$.each(this.options.cssSelector,function(fn,cssSel){self._cssSelector(fn,cssSel);});this._updateInterface();this._updateButtons();this._updateAutohide();this._updateVolume();this._updateMute();},_cssSelector:function(fn,cssSel){var self=this;if(typeof cssSel==='string'){if($.jPlayerVideo.prototype.options.cssSelector[fn]){if(this.css.jq[fn]&&this.css.jq[fn].length){this.css.jq[fn].unbind(".jPlayerVideo");}
this.options.cssSelector[fn]=cssSel;this.css.cs[fn]=this.options.cssSelectorAncestor+" "+cssSel;if(cssSel){this.css.jq[fn]=$(this.css.cs[fn]);}else{this.css.jq[fn]=[];}
if(this.css.jq[fn].length&&this[fn]){var handler=function(e){e.preventDefault();self[fn](e);if(self.options.autoBlur){$(this).blur();}else{$(this).focus();}};this.css.jq[fn].bind("click.jPlayerVideo",handler);}
if(cssSel&&this.css.jq[fn].length!==1){this._warning({type:$.jPlayerVideo.warning.CSS_SELECTOR_COUNT,context:this.css.cs[fn],message:$.jPlayerVideo.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[fn].length+" found for "+fn+" method.",hint:$.jPlayerVideo.warningHint.CSS_SELECTOR_COUNT});}}else{this._warning({type:$.jPlayerVideo.warning.CSS_SELECTOR_METHOD,context:fn,message:$.jPlayerVideo.warningMsg.CSS_SELECTOR_METHOD,hint:$.jPlayerVideo.warningHint.CSS_SELECTOR_METHOD});}}else{this._warning({type:$.jPlayerVideo.warning.CSS_SELECTOR_STRING,context:cssSel,message:$.jPlayerVideo.warningMsg.CSS_SELECTOR_STRING,hint:$.jPlayerVideo.warningHint.CSS_SELECTOR_STRING});}},duration:function(e){if(this.options.toggleDuration){if(this.options.captureDuration){e.stopPropagation();}
this._setOption("remainingDuration",!this.options.remainingDuration);}},seekBar:function(e){if(this.css.jq.seekBar.length){var $bar=$(e.currentTarget),offset=$bar.offset(),x=e.pageX-offset.left,w=$bar.width(),p=100*x/w;this.playHead(p);}},playbackRate:function(pbr){this._setOption("playbackRate",pbr);},playbackRateBar:function(e){if(this.css.jq.playbackRateBar.length){var $bar=$(e.currentTarget),offset=$bar.offset(),x=e.pageX-offset.left,w=$bar.width(),y=$bar.height()-e.pageY+offset.top,h=$bar.height(),ratio,pbr;if(this.options.verticalPlaybackRate){ratio=y/h;}else{ratio=x/w;}
pbr=ratio*(this.options.maxPlaybackRate-this.options.minPlaybackRate)+this.options.minPlaybackRate;this.playbackRate(pbr);}},_updatePlaybackRate:function(){var pbr=this.options.playbackRate,ratio=(pbr-this.options.minPlaybackRate)/(this.options.maxPlaybackRate-this.options.minPlaybackRate);if(this.status.playbackRateEnabled){if(this.css.jq.playbackRateBar.length){this.css.jq.playbackRateBar.show();}
if(this.css.jq.playbackRateBarValue.length){this.css.jq.playbackRateBarValue.show();this.css.jq.playbackRateBarValue[this.options.verticalPlaybackRate?"height":"width"]((ratio*100)+"%");}}else{if(this.css.jq.playbackRateBar.length){this.css.jq.playbackRateBar.hide();}
if(this.css.jq.playbackRateBarValue.length){this.css.jq.playbackRateBarValue.hide();}}},repeat:function(event){var guiAction=typeof event==="object";if(guiAction&&this.options.useStateClassSkin&&this.options.loop){this._loop(false);}else{this._loop(true);}},repeatOff:function(){this._loop(false);},_loop:function(loop){if(this.options.loop!==loop){this.options.loop=loop;this._updateButtons();this._trigger($.jPlayerVideo.event.repeat);}},option:function(key,value){var options=key;if(arguments.length===0){return $.extend(true,{},this.options);}
if(typeof key==="string"){var keys=key.split(".");if(value===undefined){var opt=$.extend(true,{},this.options);for(var i=0;i<keys.length;i++){if(opt[keys[i]]!==undefined){opt=opt[keys[i]];}else{this._warning({type:$.jPlayerVideo.warning.OPTION_KEY,context:key,message:$.jPlayerVideo.warningMsg.OPTION_KEY,hint:$.jPlayerVideo.warningHint.OPTION_KEY});return undefined;}}
return opt;}
options={};var opts=options;for(var j=0;j<keys.length;j++){if(j<keys.length-1){opts[keys[j]]={};opts=opts[keys[j]];}else{opts[keys[j]]=value;}}}
this._setOptions(options);return this;},_setOptions:function(options){var self=this;$.each(options,function(key,value){self._setOption(key,value);});return this;},_setOption:function(key,value){var self=this;switch(key){case"volume":this.volume(value);break;case"muted":this._muted(value);break;case"globalVolume":this.options[key]=value;break;case"cssSelectorAncestor":this._cssSelectorAncestor(value);break;case"cssSelector":$.each(value,function(fn,cssSel){self._cssSelector(fn,cssSel);});break;case"playbackRate":this.options[key]=value=this._limitValue(value,this.options.minPlaybackRate,this.options.maxPlaybackRate);if(this.html.used){this._html_setProperty('playbackRate',value);}
this._updatePlaybackRate();break;case"defaultPlaybackRate":this.options[key]=value=this._limitValue(value,this.options.minPlaybackRate,this.options.maxPlaybackRate);if(this.html.used){this._html_setProperty('defaultPlaybackRate',value);}
this._updatePlaybackRate();break;case"minPlaybackRate":this.options[key]=value=this._limitValue(value,0.1,this.options.maxPlaybackRate-0.1);this._updatePlaybackRate();break;case"maxPlaybackRate":this.options[key]=value=this._limitValue(value,this.options.minPlaybackRate+0.1,16);this._updatePlaybackRate();break;case"fullScreen":if(this.options[key]!==value){var wkv=$.jPlayerVideo.nativeFeatures.fullscreen.used.webkitVideo;if(!wkv||wkv&&!this.status.waitForPlay){if(!wkv){this.options[key]=value;}
if(value){this._requestFullscreen();}else{this._exitFullscreen();}
if(!wkv){this._setOption("fullWindow",value);}}}
break;case"fullWindow":if(this.options[key]!==value){this._removeUiClass();this.options[key]=value;this._refreshSize();}
break;case"size":if(!this.options.fullWindow&&this.options[key].cssClass!==value.cssClass){this._removeUiClass();}
this.options[key]=$.extend({},this.options[key],value);this._refreshSize();break;case"sizeFull":if(this.options.fullWindow&&this.options[key].cssClass!==value.cssClass){this._removeUiClass();}
this.options[key]=$.extend({},this.options[key],value);this._refreshSize();break;case"autohide":this.options[key]=$.extend({},this.options[key],value);this._updateAutohide();break;case"loop":this._loop(value);break;case"remainingDuration":this.options[key]=value;this._updateInterface();break;case"toggleDuration":this.options[key]=value;break;case"nativeVideoControls":this.options[key]=$.extend({},this.options[key],value);this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this._restrictNativeVideoControls();this._updateNativeVideoControls();break;case"noFullWindow":this.options[key]=$.extend({},this.options[key],value);this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow);this._restrictNativeVideoControls();this._updateButtons();break;case"noVolume":this.options[key]=$.extend({},this.options[key],value);this.status.noVolume=this._uaBlocklist(this.options.noVolume);this._updateVolume();this._updateMute();break;case"emulateHtml":if(this.options[key]!==value){this.options[key]=value;if(value){this._emulateHtmlBridge();}else{this._destroyHtmlBridge();}}
break;case"timeFormat":this.options[key]=$.extend({},this.options[key],value);break;case"keyEnabled":this.options[key]=value;if(!value&&this===$.jPlayerVideo.focus){$.jPlayerVideo.focus=null;}
break;case"keyBindings":this.options[key]=$.extend(true,{},this.options[key],value);break;case"audioFullScreen":this.options[key]=value;break;case"autoBlur":this.options[key]=value;break;}
return this;},_refreshSize:function(){this._setSize();this._addUiClass();this._updateSize();this._updateButtons();this._updateAutohide();this._trigger($.jPlayerVideo.event.resize);},_setSize:function(){if(this.options.fullWindow){this.status.width=this.options.sizeFull.width;this.status.height=this.options.sizeFull.height;this.status.cssClass=this.options.sizeFull.cssClass;}else{this.status.width=this.options.size.width;this.status.height=this.options.size.height;this.status.cssClass=this.options.size.cssClass;}
this.element.css({'width':this.status.width,'height':this.status.height});},_addUiClass:function(){if(this.ancestorJq.length){this.ancestorJq.addClass(this.status.cssClass);}},_removeUiClass:function(){if(this.ancestorJq.length){this.ancestorJq.removeClass(this.status.cssClass);}},_updateSize:function(){this.internal.poster.jq.css({'width':this.status.width,'height':this.status.height});if(!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls){this.internal.video.jq.css({'width':this.status.width,'height':this.status.height});}
else if(!this.status.waitForPlay&&this.flash.active&&this.status.video){this.internal.flash.jq.css({'width':this.status.width,'height':this.status.height});}},_updateAutohide:function(){var self=this,event="mousemove.jPlayerVideo",namespace=".jPlayerVideoAutohide",eventType=event+namespace,handler=function(event){var moved=false,deltaX,deltaY;if(typeof self.internal.mouse!=="undefined"){deltaX=self.internal.mouse.x-event.pageX;deltaY=self.internal.mouse.y-event.pageY;moved=(Math.floor(deltaX)>0)||(Math.floor(deltaY)>0);}else{moved=true;}
self.internal.mouse={x:event.pageX,y:event.pageY};if(moved){self.css.jq.gui.fadeIn(self.options.autohide.fadeIn,function(){clearTimeout(self.internal.autohideId);self.internal.autohideId=setTimeout(function(){self.css.jq.gui.fadeOut(self.options.autohide.fadeOut);},self.options.autohide.hold);});}};if(this.css.jq.gui.length){this.css.jq.gui.stop(true,true);clearTimeout(this.internal.autohideId);delete this.internal.mouse;this.element.unbind(namespace);this.css.jq.gui.unbind(namespace);if(!this.status.nativeVideoControls){if(this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored){this.element.bind(eventType,handler);this.css.jq.gui.bind(eventType,handler);this.css.jq.gui.hide();}else{this.css.jq.gui.show();}}else{this.css.jq.gui.hide();}}},fullScreen:function(event){var guiAction=typeof event==="object";if(guiAction&&this.options.useStateClassSkin&&this.options.fullScreen){this._setOption("fullScreen",false);}else{this._setOption("fullScreen",true);}},restoreScreen:function(){this._setOption("fullScreen",false);},_fullscreenAddEventListeners:function(){var self=this,fs=$.jPlayerVideo.nativeFeatures.fullscreen;if(fs.api.fullscreenEnabled){if(fs.event.fullscreenchange){if(typeof this.internal.fullscreenchangeHandler!=='function'){this.internal.fullscreenchangeHandler=function(){self._fullscreenchange();};}
document.addEventListener(fs.event.fullscreenchange,this.internal.fullscreenchangeHandler,false);}}},_fullscreenRemoveEventListeners:function(){var fs=$.jPlayerVideo.nativeFeatures.fullscreen;if(this.internal.fullscreenchangeHandler){document.removeEventListener(fs.event.fullscreenchange,this.internal.fullscreenchangeHandler,false);}},_fullscreenchange:function(){if(this.options.fullScreen&&!$.jPlayerVideo.nativeFeatures.fullscreen.api.fullscreenElement()){this._setOption("fullScreen",false);}},_requestFullscreen:function(){var e=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],fs=$.jPlayerVideo.nativeFeatures.fullscreen;if(fs.used.webkitVideo){e=this.htmlElement.video;}
if(fs.api.fullscreenEnabled){fs.api.requestFullscreen(e);}},_exitFullscreen:function(){var fs=$.jPlayerVideo.nativeFeatures.fullscreen,e;if(fs.used.webkitVideo){e=this.htmlElement.video;}
if(fs.api.fullscreenEnabled){fs.api.exitFullscreen(e);}},_html_initMedia:function(media){var $media=$(this.htmlElement.media).empty();$.each(media.track||[],function(i,v){var track=document.createElement('track');track.setAttribute("kind",v.kind?v.kind:"");track.setAttribute("src",v.src?v.src:"");track.setAttribute("srclang",v.srclang?v.srclang:"");track.setAttribute("label",v.label?v.label:"");if(v.def){track.setAttribute("default",v.def);}
$media.append(track);});this.htmlElement.media.src=this.status.src;if(this.options.preload!=='none'){this._html_load();}
this._trigger($.jPlayerVideo.event.timeupdate);},_html_setFormat:function(media){var self=this;$.each(this.formats,function(priority,format){if(self.html.support[format]&&media[format]){self.status.src=media[format];self.status.format[format]=true;self.status.formatType=format;return false;}});},_html_setAudio:function(media){this._html_setFormat(media);this.htmlElement.media=this.htmlElement.audio;this._html_initMedia(media);},_html_setVideo:function(media){this._html_setFormat(media);if(this.status.nativeVideoControls){this.htmlElement.video.poster=this._validString(media.poster)?media.poster:"";}
this.htmlElement.media=this.htmlElement.video;this._html_initMedia(media);},_html_resetMedia:function(){if(this.htmlElement.media){if(this.htmlElement.media.id===this.internal.video.id&&!this.status.nativeVideoControls){this.internal.video.jq.css({'width':'0px','height':'0px'});}
this.htmlElement.media.pause();}},_html_clearMedia:function(){if(this.htmlElement.media){this.htmlElement.media.src="about:blank";this.htmlElement.media.load();}},_html_load:function(){if(this.status.waitForLoad){this.status.waitForLoad=false;this.htmlElement.media.load();}
clearTimeout(this.internal.htmlDlyCmdId);},_html_play:function(time){var self=this,media=this.htmlElement.media;this.androidFix.pause=false;this._html_load();if(this.androidFix.setMedia){this.androidFix.play=true;this.androidFix.time=time;}else if(!isNaN(time)){if(this.internal.cmdsIgnored){media.play();}
try{if(!media.seekable||typeof media.seekable==="object"&&media.seekable.length>0){media.currentTime=time;media.play();}else{throw 1;}}catch(err){this.internal.htmlDlyCmdId=setTimeout(function(){self.play(time);},250);return;}}else{media.play();}
this._html_checkWaitForPlay();},_html_pause:function(time){var self=this,media=this.htmlElement.media;this.androidFix.play=false;if(time>0){this._html_load();}else{clearTimeout(this.internal.htmlDlyCmdId);}
media.pause();if(this.androidFix.setMedia){this.androidFix.pause=true;this.androidFix.time=time;}else if(!isNaN(time)){try{if(!media.seekable||typeof media.seekable==="object"&&media.seekable.length>0){media.currentTime=time;}else{throw 1;}}catch(err){this.internal.htmlDlyCmdId=setTimeout(function(){self.pause(time);},250);return;}}
if(time>0){this._html_checkWaitForPlay();}},_html_playHead:function(percent){var self=this,media=this.htmlElement.media;this._html_load();try{if(typeof media.seekable==="object"&&media.seekable.length>0){media.currentTime=percent*media.seekable.end(media.seekable.length-1)/100;}else if(media.duration>0&&!isNaN(media.duration)){media.currentTime=percent*media.duration/100;}else{throw"e";}}catch(err){this.internal.htmlDlyCmdId=setTimeout(function(){self.playHead(percent);},250);return;}
if(!this.status.waitForLoad){this._html_checkWaitForPlay();}},_html_checkWaitForPlay:function(){if(this.status.waitForPlay){this.status.waitForPlay=false;if(this.css.jq.videoPlay.length){this.css.jq.videoPlay.hide();}
if(this.status.video){this.internal.poster.jq.hide();this.internal.video.jq.css({'width':this.status.width,'height':this.status.height});}}},_html_setProperty:function(property,value){if(this.html.audio.available){this.htmlElement.audio[property]=value;}
if(this.html.video.available){this.htmlElement.video[property]=value;}},_aurora_setAudio:function(media){var self=this;$.each(this.formats,function(priority,format){if(self.aurora.support[format]&&media[format]){self.status.src=media[format];self.status.format[format]=true;self.status.formatType=format;return false;}});this.aurora.player=new AV.Player.fromURL(this.status.src);this._addAuroraEventListeners(this.aurora.player,this.aurora);if(this.options.preload==='auto'){this._aurora_load();this.status.waitForLoad=false;}},_aurora_resetMedia:function(){if(this.aurora.player){this.aurora.player.stop();}},_aurora_clearMedia:function(){},_aurora_load:function(){if(this.status.waitForLoad){this.status.waitForLoad=false;this.aurora.player.preload();}},_aurora_play:function(time){if(!this.status.waitForLoad){if(!isNaN(time)){this.aurora.player.seek(time);}}
if(!this.aurora.player.playing){this.aurora.player.play();}
this.status.waitForLoad=false;this._aurora_checkWaitForPlay();this._updateButtons(true);this._trigger($.jPlayerVideo.event.play);},_aurora_pause:function(time){if(!isNaN(time)){this.aurora.player.seek(time*1000);}
this.aurora.player.pause();if(time>0){this._aurora_checkWaitForPlay();}
this._updateButtons(false);this._trigger($.jPlayerVideo.event.pause);},_aurora_playHead:function(percent){if(this.aurora.player.duration>0){this.aurora.player.seek(percent*this.aurora.player.duration/100);}
if(!this.status.waitForLoad){this._aurora_checkWaitForPlay();}},_aurora_checkWaitForPlay:function(){if(this.status.waitForPlay){this.status.waitForPlay=false;}},_aurora_volume:function(v){this.aurora.player.volume=v*100;},_aurora_mute:function(m){if(m){this.aurora.properties.lastvolume=this.aurora.player.volume;this.aurora.player.volume=0;}else{this.aurora.player.volume=this.aurora.properties.lastvolume;}
this.aurora.properties.muted=m;},_flash_setAudio:function(media){var self=this;try{$.each(this.formats,function(priority,format){if(self.flash.support[format]&&media[format]){switch(format){case"m4a":case"fla":self._getMovie().fl_setAudio_m4a(media[format]);break;case"mp3":self._getMovie().fl_setAudio_mp3(media[format]);break;case"rtmpa":self._getMovie().fl_setAudio_rtmp(media[format]);break;}
self.status.src=media[format];self.status.format[format]=true;self.status.formatType=format;return false;}});if(this.options.preload==='auto'){this._flash_load();this.status.waitForLoad=false;}}catch(err){this._flashError(err);}},_flash_setVideo:function(media){var self=this;try{$.each(this.formats,function(priority,format){if(self.flash.support[format]&&media[format]){switch(format){case"m4v":case"flv":self._getMovie().fl_setVideo_m4v(media[format]);break;case"rtmpv":self._getMovie().fl_setVideo_rtmp(media[format]);break;}
self.status.src=media[format];self.status.format[format]=true;self.status.formatType=format;return false;}});if(this.options.preload==='auto'){this._flash_load();this.status.waitForLoad=false;}}catch(err){this._flashError(err);}},_flash_resetMedia:function(){this.internal.flash.jq.css({'width':'0px','height':'0px'});this._flash_pause(NaN);},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia();}catch(err){this._flashError(err);}},_flash_load:function(){try{this._getMovie().fl_load();}catch(err){this._flashError(err);}
this.status.waitForLoad=false;},_flash_play:function(time){try{this._getMovie().fl_play(time);}catch(err){this._flashError(err);}
this.status.waitForLoad=false;this._flash_checkWaitForPlay();},_flash_pause:function(time){try{this._getMovie().fl_pause(time);}catch(err){this._flashError(err);}
if(time>0){this.status.waitForLoad=false;this._flash_checkWaitForPlay();}},_flash_playHead:function(p){try{this._getMovie().fl_play_head(p);}catch(err){this._flashError(err);}
if(!this.status.waitForLoad){this._flash_checkWaitForPlay();}},_flash_checkWaitForPlay:function(){if(this.status.waitForPlay){this.status.waitForPlay=false;if(this.css.jq.videoPlay.length){this.css.jq.videoPlay.hide();}
if(this.status.video){this.internal.poster.jq.hide();this.internal.flash.jq.css({'width':this.status.width,'height':this.status.height});}}},_flash_volume:function(v){try{this._getMovie().fl_volume(v);}catch(err){this._flashError(err);}},_flash_mute:function(m){try{this._getMovie().fl_mute(m);}catch(err){this._flashError(err);}},_getMovie:function(){return document[this.internal.flash.id];},_getFlashPluginVersion:function(){var version=0,flash;if(window.ActiveXObject){try{flash=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(flash){var v=flash.GetVariable("$version");if(v){v=v.split(" ")[1].split(",");version=parseInt(v[0],10)+"."+parseInt(v[1],10);}}}catch(e){}}
else if(navigator.plugins&&navigator.mimeTypes.length>0){flash=navigator.plugins["Shockwave Flash"];if(flash){version=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1");}}
return version*1;},_checkForFlash:function(version){var flashOk=false;if(this._getFlashPluginVersion()>=version){flashOk=true;}
return flashOk;},_validString:function(url){return(url&&typeof url==="string");},_limitValue:function(value,min,max){return(value<min)?min:((value>max)?max:value);},_urlNotSetError:function(context){this._error({type:$.jPlayerVideo.error.URL_NOT_SET,context:context,message:$.jPlayerVideo.errorMsg.URL_NOT_SET,hint:$.jPlayerVideo.errorHint.URL_NOT_SET});},_flashError:function(error){var errorType;if(!this.internal.ready){errorType="FLASH";}else{errorType="FLASH_DISABLED";}
this._error({type:$.jPlayerVideo.error[errorType],context:this.internal.flash.swf,message:$.jPlayerVideo.errorMsg[errorType]+error.message,hint:$.jPlayerVideo.errorHint[errorType]});this.internal.flash.jq.css({'width':'1px','height':'1px'});},_error:function(error){this._trigger($.jPlayerVideo.event.error,error);if(this.options.errorAlerts){this._alert("Error!"+(error.message?"\n"+error.message:"")+(error.hint?"\n"+error.hint:"")+"\nContext: "+error.context);}},_warning:function(warning){this._trigger($.jPlayerVideo.event.warning,undefined,warning);if(this.options.warningAlerts){this._alert("Warning!"+(warning.message?"\n"+warning.message:"")+(warning.hint?"\n"+warning.hint:"")+"\nContext: "+warning.context);}},_alert:function(message){var msg="jPlayerVideo "+this.version.script+" : id='"+this.internal.self.id+"' : "+message;if(!this.options.consoleAlerts){alert(msg);}else if(window.console&&window.console.log){window.console.log(msg);}},_emulateHtmlBridge:function(){var self=this;$.each($.jPlayerVideo.emulateMethods.split(/\s+/g),function(i,name){self.internal.domNode[name]=function(arg){self[name](arg);};});$.each($.jPlayerVideo.event,function(eventName,eventType){var nativeEvent=true;$.each($.jPlayerVideo.reservedEvent.split(/\s+/g),function(i,name){if(name===eventName){nativeEvent=false;return false;}});if(nativeEvent){self.element.bind(eventType+".jPlayerVideo.jPlayerVideoHtml",function(){self._emulateHtmlUpdate();var domEvent=document.createEvent("Event");domEvent.initEvent(eventName,false,true);self.internal.domNode.dispatchEvent(domEvent);});}});},_emulateHtmlUpdate:function(){var self=this;$.each($.jPlayerVideo.emulateStatus.split(/\s+/g),function(i,name){self.internal.domNode[name]=self.status[name];});$.each($.jPlayerVideo.emulateOptions.split(/\s+/g),function(i,name){self.internal.domNode[name]=self.options[name];});},_destroyHtmlBridge:function(){var self=this;this.element.unbind(".jPlayerVideoHtml");var emulated=$.jPlayerVideo.emulateMethods+" "+$.jPlayerVideo.emulateStatus+" "+$.jPlayerVideo.emulateOptions;$.each(emulated.split(/\s+/g),function(i,name){delete self.internal.domNode[name];});}};$.jPlayerVideo.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"};$.jPlayerVideo.errorMsg={FLASH:"jPlayerVideo's Flash fallback is not configured correctly, or a command was issued before the jPlayerVideo Ready event. Details: ",FLASH_DISABLED:"jPlayerVideo's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayerVideo in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayerVideo "+$.jPlayerVideo.prototype.version.script+" needs Jplayer.swf version "+$.jPlayerVideo.prototype.version.needFlash+" but found "};$.jPlayerVideo.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayerVideo entity or any ancestor.",NO_SOLUTION:"Review the jPlayerVideo options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayerVideo files."};$.jPlayerVideo.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"};$.jPlayerVideo.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayerVideo('cssSelector') is not a valid jPlayerVideo method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayerVideo('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayerVideo('option') is undefined."};$.jPlayerVideo.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."};}));(function($,undefined){jPlayerVideoPlaylist=function(cssSelector,playlist,options){var self=this;this.current=0;this.loop=false;this.shuffled=false;this.removing=false;this.cssSelector=$.extend({},this._cssSelector,cssSelector);this.options=$.extend(true,{keyBindings:{next:{key:221,fn:function(){self.next();}},previous:{key:219,fn:function(){self.previous();}},shuffle:{key:83,fn:function(){self.shuffle();}}},stateClass:{shuffled:"mdtc-clnplrv-state-shuffled"}},this._options,options);this.playlist=[];this.original=[];this._initPlaylist(playlist);this.cssSelector.details=this.cssSelector.cssSelectorAncestor+" .mdtc-clnplrv-details";this.cssSelector.playlist=this.cssSelector.cssSelectorAncestor+" .mdtc-clnplrv-playlist";this.cssSelector.next=this.cssSelector.cssSelectorAncestor+" .mdtc-clnplrv-next";this.cssSelector.previous=this.cssSelector.cssSelectorAncestor+" .mdtc-clnplrv-previous";this.cssSelector.shuffle=this.cssSelector.cssSelectorAncestor+" .mdtc-clnplrv-shuffle";this.cssSelector.shuffleOff=this.cssSelector.cssSelectorAncestor+" .mdtc-clnplrv-shuffle-off";this.options.cssSelectorAncestor=this.cssSelector.cssSelectorAncestor;this.options.repeat=function(event){self.loop=event.jPlayerVideo.options.loop;};$(this.cssSelector.jPlayerVideo).bind($.jPlayerVideo.event.ready,function(){self._init();});$(this.cssSelector.jPlayerVideo).bind($.jPlayerVideo.event.ended,function(){self.next();});$(this.cssSelector.jPlayerVideo).bind($.jPlayerVideo.event.play,function(){$(this).jPlayerVideo("pauseOthers");});$(this.cssSelector.jPlayerVideo).bind($.jPlayerVideo.event.resize,function(event){if(event.jPlayerVideo.options.fullScreen){$(self.cssSelector.details).show();}else{$(self.cssSelector.details).hide();}});$(this.cssSelector.previous).click(function(e){e.preventDefault();self.previous();self.blur(this);});$(this.cssSelector.next).click(function(e){e.preventDefault();self.next();self.blur(this);});$(this.cssSelector.shuffle).click(function(e){e.preventDefault();if(self.shuffled&&$(self.cssSelector.jPlayerVideo).jPlayerVideo("option","useStateClassSkin")){self.shuffle(false);}else{self.shuffle(true);}
self.blur(this);});$(this.cssSelector.shuffleOff).click(function(e){e.preventDefault();self.shuffle(false);self.blur(this);}).hide();if(!this.options.fullScreen){$(this.cssSelector.details).hide();}
$(this.cssSelector.playlist+" ul").empty();this._createItemHandlers();$(this.cssSelector.jPlayerVideo).jPlayerVideo(this.options);};jPlayerVideoPlaylist.prototype={_cssSelector:{jPlayerVideo:"#jquery_jplayer_1",cssSelectorAncestor:"#jp_video_container_1"},_options:{playlistOptions:{autoPlay:false,loopOnPrevious:false,shuffleOnLoop:true,enableRemoveControls:false,displayTime:'slow',addTime:'fast',removeTime:'fast',shuffleTime:'slow',itemClass:"mdtc-clnplrv-playlist-item",freeGroupClass:"mdtc-clnplrv-free-media",freeItemClass:"mdtc-clnplrv-playlist-item-free",removeItemClass:"mdtc-clnplrv-playlist-item-remove"}},option:function(option,value){if(value===undefined){return this.options.playlistOptions[option];}
this.options.playlistOptions[option]=value;switch(option){case"enableRemoveControls":this._updateControls();break;case"itemClass":case"freeGroupClass":case"freeItemClass":case"removeItemClass":this._refresh(true);this._createItemHandlers();break;}
return this;},_init:function(){var self=this;this._refresh(function(){if(self.options.playlistOptions.autoPlay){self.play(self.current);}else{self.select(self.current);}});},_initPlaylist:function(playlist){this.current=0;this.shuffled=false;this.removing=false;this.original=$.extend(true,[],playlist);this._originalPlaylist();},_originalPlaylist:function(){var self=this;this.playlist=[];$.each(this.original,function(i){self.playlist[i]=self.original[i];});},_refresh:function(instant){var self=this;if(instant&&!$.isFunction(instant)){$(this.cssSelector.playlist+" ul").empty();$.each(this.playlist,function(i){$(self.cssSelector.playlist+" ul").append(self._createListItem(self.playlist[i]));});this._updateControls();}else{var displayTime=$(this.cssSelector.playlist+" ul").children().length?this.options.playlistOptions.displayTime:0;$(this.cssSelector.playlist+" ul").slideUp(displayTime,function(){var $this=$(this);$(this).empty();$.each(self.playlist,function(i){$this.append(self._createListItem(self.playlist[i]));});self._updateControls();if($.isFunction(instant)){instant();}
if(self.playlist.length){$(this).slideDown(self.options.playlistOptions.displayTime);}else{$(this).show();}});}},_createListItem:function(media){var self=this;var listItem="<li><div>";listItem+="<a href='javascript:;' class='"+this.options.playlistOptions.removeItemClass+"'>&times;</a>";if(media.free){var first=true;listItem+="<span class='"+this.options.playlistOptions.freeGroupClass+"'>(";$.each(media,function(property,value){if($.jPlayerVideo.prototype.format[property]){if(first){first=false;}else{listItem+=" | ";}
listItem+="<a class='"+self.options.playlistOptions.freeItemClass+"' href='"+value+"' tabindex='-1'>"+property+"</a>";}});listItem+=")</span>";}
listItem+="<span href='javascript:;' class='"+this.options.playlistOptions.itemClass+"' tabindex='0'>"+media.title+(media.artist?" <span class='mdtc-clnplrv-artist'>"+media.artist+"</span>":"")+"</span>";listItem+="</div></li>";return listItem;},_createItemHandlers:function(){var self=this;$(this.cssSelector.playlist).off("click","span."+this.options.playlistOptions.itemClass).on("click","span."+this.options.playlistOptions.itemClass,function(e){e.preventDefault();var index=$(this).parent().parent().index();if(self.current!==index){self.play(index);}else{$(self.cssSelector.jPlayerVideo).jPlayerVideo("play");}
self.blur(this);});$(this.cssSelector.playlist).off("click","a."+this.options.playlistOptions.freeItemClass).on("click","a."+this.options.playlistOptions.freeItemClass,function(e){e.preventDefault();$(this).parent().parent().find("."+self.options.playlistOptions.itemClass).click();self.blur(this);});$(this.cssSelector.playlist).off("click","a."+this.options.playlistOptions.removeItemClass).on("click","a."+this.options.playlistOptions.removeItemClass,function(e){e.preventDefault();var index=$(this).parent().parent().index();self.remove(index);self.blur(this);});},_updateControls:function(){if(this.options.playlistOptions.enableRemoveControls){$(this.cssSelector.playlist+" ."+this.options.playlistOptions.removeItemClass).show();}else{$(this.cssSelector.playlist+" ."+this.options.playlistOptions.removeItemClass).hide();}
if(this.shuffled){$(this.cssSelector.jPlayerVideo).jPlayerVideo("addStateClass","shuffled");}else{$(this.cssSelector.jPlayerVideo).jPlayerVideo("removeStateClass","shuffled");}
if($(this.cssSelector.shuffle).length&&$(this.cssSelector.shuffleOff).length){if(this.shuffled){$(this.cssSelector.shuffleOff).show();$(this.cssSelector.shuffle).hide();}else{$(this.cssSelector.shuffleOff).hide();$(this.cssSelector.shuffle).show();}}},_highlight:function(index){if(this.playlist.length&&index!==undefined){$(this.cssSelector.playlist+" .mdtc-clnplrv-playlist-current").removeClass("mdtc-clnplrv-playlist-current");$(this.cssSelector.playlist+" li:nth-child("+(index+1)+")").addClass("mdtc-clnplrv-playlist-current").find(".mdtc-clnplrv-playlist-item").addClass("mdtc-clnplrv-playlist-current");}},setPlaylist:function(playlist){this._initPlaylist(playlist);this._init();},add:function(media,playNow){$(this.cssSelector.playlist+" ul").append(this._createListItem(media)).find("li:last-child").hide().slideDown(this.options.playlistOptions.addTime);this._updateControls();this.original.push(media);this.playlist.push(media);if(playNow){this.play(this.playlist.length-1);}else{if(this.original.length===1){this.select(0);}}},remove:function(index){var self=this;if(index===undefined){this._initPlaylist([]);this._refresh(function(){$(self.cssSelector.jPlayerVideo).jPlayerVideo("clearMedia");});return true;}else{if(this.removing){return false;}else{index=(index<0)?self.original.length+index:index;if(0<=index&&index<this.playlist.length){this.removing=true;$(this.cssSelector.playlist+" li:nth-child("+(index+1)+")").slideUp(this.options.playlistOptions.removeTime,function(){$(this).remove();if(self.shuffled){var item=self.playlist[index];$.each(self.original,function(i){if(self.original[i]===item){self.original.splice(i,1);return false;}});self.playlist.splice(index,1);}else{self.original.splice(index,1);self.playlist.splice(index,1);}
if(self.original.length){if(index===self.current){self.current=(index<self.original.length)?self.current:self.original.length-1;self.select(self.current);}else if(index<self.current){self.current--;}}else{$(self.cssSelector.jPlayerVideo).jPlayerVideo("clearMedia");self.current=0;self.shuffled=false;self._updateControls();}
self.removing=false;});}
return true;}}},select:function(index){index=(index<0)?this.original.length+index:index;if(0<=index&&index<this.playlist.length){this.current=index;this._highlight(index);$(this.cssSelector.jPlayerVideo).jPlayerVideo("setMedia",this.playlist[this.current]);}else{this.current=0;}},play:function(index){index=(index<0)?this.original.length+index:index;if(0<=index&&index<this.playlist.length){if(this.playlist.length){this.select(index);$(this.cssSelector.jPlayerVideo).jPlayerVideo("play");}}else if(index===undefined){$(this.cssSelector.jPlayerVideo).jPlayerVideo("play");}},pause:function(){$(this.cssSelector.jPlayerVideo).jPlayerVideo("pause");},next:function(){var index=(this.current+1<this.playlist.length)?this.current+1:0;if(this.loop){if(index===0&&this.shuffled&&this.options.playlistOptions.shuffleOnLoop&&this.playlist.length>1){this.shuffle(true,true);}else{this.play(index);}}else{if(index>0){this.play(index);}}},previous:function(){var index=(this.current-1>=0)?this.current-1:this.playlist.length-1;if(this.loop&&this.options.playlistOptions.loopOnPrevious||index<this.playlist.length-1){this.play(index);}},shuffle:function(shuffled,playNow){var self=this;if(shuffled===undefined){shuffled=!this.shuffled;}
if(shuffled||shuffled!==this.shuffled){$(this.cssSelector.playlist+" ul").slideUp(this.options.playlistOptions.shuffleTime,function(){self.shuffled=shuffled;if(shuffled){self.playlist.sort(function(){return 0.5-Math.random();});}else{self._originalPlaylist();}
self._refresh(true);if(playNow||!$(self.cssSelector.jPlayerVideo).data("jPlayerVideo").status.paused){self.play(0);}else{self.select(0);}
$(this).slideDown(self.options.playlistOptions.shuffleTime);});}},blur:function(that){if($(this.cssSelector.jPlayerVideo).jPlayerVideo("option","autoBlur")){$(that).blur();}}};})(jQuery);(function($){var interval;function marquee(that){function slide(){var container=that.next(),innerWidth=container.find('.mdtc-clnplrv-song-title-inner'),mOuterWidth=container.find('.mdtc-clnplrv-song-title').width(),mInnerWidth=innerWidth.width(),diffMargin=mInnerWidth-mOuterWidth;if(diffMargin>0){innerWidth.animate({marginLeft:'-='+(diffMargin-10)},2500);setTimeout(function(){innerWidth.animate({marginLeft:'+='+(diffMargin-10)},2500);},4000);}}
slide();interval=setInterval(function(){slide();},8000);}
function makeId(){var text='',possible='abcdefghijklmnopqrstuvwxyz0123456789';for(var i=0;i<15;i++)
text+=possible.charAt(Math.floor(Math.random()*possible.length));return text;}
var playerTemplate='<div class="mdtc-clnplrv-video mdtc-clnplrv-main-player">'+'<div class="mdtc-clnplrv-jplayer mdtc-clnplrv-video-container"><!-- --></div>'+'<div class="mdtc-clnplrv-type-playlist">'+'<div class="mdtc-clnplrv-gui mdtc-clnplrv-interface">'+'<ul class="mdtc-clnplrv-controls">'+'<li><a href="javascript:;" class="mdtc-clnplrv-previous mdtc-clnplrv-icon-prev" tabindex="1"></a></li>'+'<li><a href="javascript:;" class="mdtc-clnplrv-play mdtc-clnplrv-icon-play" tabindex="1"></a></li>'+'<li><a href="javascript:;" class="mdtc-clnplrv-pause mdtc-clnplrv-icon-pause" tabindex="1" style="display:none"></a></li>'+'<li><a href="javascript:;" class="mdtc-clnplrv-next mdtc-clnplrv-icon-next" tabindex="1"></a></li>'+'</ul>'+'<div class="mdtc-clnplrv-seek-container">'+'<div class="mdtc-clnplrv-seek-container-inner">'+'<div class="mdtc-clnplrv-time">'+'<div class="mdtc-clnplrv-current-time">00:00</div>'+'<div class="mdtc-clnplrv-duration" style="display:none">00:00</div>'+'</div>'+'<div class="mdtc-clnplrv-song-title">'+'<div class="mdtc-clnplrv-song-title-inner">'+'<strong id="current-song"><!-- --></strong>'+'</div>'+'</div>'+'<div class="mdtc-clnplrv-progress">'+'<div class="mdtc-clnplrv-seek-bar" style="width:0%">'+'<div class="mdtc-clnplrv-play-bar" style="width:0%"><!-- --></div>'+'</div>'+'</div>'+'</div>'+'</div>'+'<div class="mdtc-clnplrv-volume-bar">'+'<div class="mdtc-clnplrv-volume-bar-value"><i><!-- --></i></div>'+'</div>'+'<ul class="mdtc-clnplrv-toggles">'+'<li><a title="Repeat" tabindex="1" class="mdtc-clnplrv-repeat mdtc-clnplrv-icon-repeat" href="javascript:;"></a></li>'+'<li><a title="Repeat off" tabindex="1" class="mdtc-clnplrv-repeat-off mdtc-clnplrv-icon-repeat" href="javascript:;" style="display:none"></a></li>'+'<li><a href="javascript:;" class="mdtc-clnplrv-shuffle mdtc-clnplrv-icon-shuffle" tabindex="1" title="Shuffle"></a></li>'+'<li><a href="javascript:;" class="mdtc-clnplrv-shuffle-off mdtc-clnplrv-icon-shuffle" tabindex="1" title="Shuffle off" style="display:none"></a></li>'+'<li class="mdtc-clnplrv-fullscreen-li"><a href="javascript:;" class="mdtc-clnplrv-fullscreen-btn mdtc-clnplrv-icon-fullscreen" tabindex="1" title="Toggle fullscreen"></a></li>'+'<li><a href="javascript:;" class="mdtc-clnplrv-download-one mdtc-clnplrv-icon-download" tabindex="1" title="Download" style="display:none"></a></li>'+'</ul>'+'</div>'+'<div class="clearfix"><!-- --></div>'+'<div class="mdtc-clnplrv-playlist">'+'<ul></ul>'+'</div>'+'<div class="mdtc-clnplrv-no-solution" style="display:none">'+'<span>Update Required </span>'+'To play the media you will need to either update your browser to a recent version'+'</div>'+'</div>'+'</div>';$.fn.cleanvideoplayer=function(options){(function(down,jPlayerVideo,fn,$target){$('body').on('mousemove','.mdtc-clnplrv-volume-bar',function(e){jPlayerVideo&&jPlayerVideo[fn]($.extend({},e,{currentTarget:$target}));}).on('mouseup',function(){jPlayerVideo=false;}).on('mousedown',function(e){var $nodes=$(e.target).parents().add(e.currentTarget),$volume=$nodes.filter('.mdtc-clnplrv-volume-bar').first(),$seek=$nodes.filter('.mdtc-clnplrv-seek-bar').first();if($seek.length){fn='seekBar';$target=$seek;}else if($volume.length){fn='volumeBar';$target=$volume;}
var $audio=$target&&$target.closest('.mdtc-clnplrv-video');jPlayerVideo=$audio&&$audio.children().first().add($audio.prev()).filter(function(){return $(this).data('jPlayerVideo');}).first().data('jPlayerVideo');});})();return this.each(function(index){var settings=$.extend({theme:'default',supplied:'m4v,webmv,youtube',disableControls:false,autoplay:false,playlistHeight:false,playlist:false},options);var soloDownload=false,soloDownloadUrl='';if($(this).find('> ul').length>0){var ul=$(this).find('> ul');ul.data('theme')?settings.theme=ul.data('theme'):void(0);ul.data('supplied')?settings.supplied=ul.data('supplied'):void(0);ul.data('disable-controls')?settings.disableControls=ul.data('disable-controls'):void(0);ul.data('autoplay')?settings.autoplay=ul.data('autoplay'):void(0);ul.data('playlist-height')?settings.playlistHeight=ul.data('playlist-height'):void(0);if($(this).find('> ul li').length>0){var itemsArray=[];$(this).find('> ul li').each(function(){var li=$(this),free=li.data('free')?true:false,type=li.data('type'),obj={title:li.data('title'),artist:li.data('artist'),free:free,poster:li.data('poster')};obj[type]=li.data('url');itemsArray.push(obj);});if($(this).find('> ul li').length==1&&$(this).find('> ul li').data('free')){soloDownload=true;soloDownloadUrl=$(this).find('> ul li').data('url');}
settings.playlist=itemsArray;}}
var currentId=makeId();$(this).html(playerTemplate);$(this).find('.mdtc-clnplrv-main-player').addClass('mdtc-clnplrv-cleanvideoplayer-id-'+currentId);if(soloDownload){$(this).find('.mdtc-clnplrv-main-player').addClass('mdtc-clnplrv-solo-download');$(this).find('.mdtc-clnplrv-download-one').attr('href',soloDownloadUrl);}
if(settings.theme=='dark'){$(this).find('.mdtc-clnplrv-main-player').addClass('mdtc-clnplrv-dark-theme');}
if(settings.disableControls){$(this).find('.mdtc-clnplrv-main-player').addClass('mdtc-clnplrv-disabled-controls');}
if(settings.playlistHeight){$(this).find('.mdtc-clnplrv-playlist > ul').css({maxHeight:settings.playlistHeight,overflowY:'auto'});}
if(settings.playlist.length>1){playerOptions={solution:'html',supplied:settings.supplied,wmode:'window',ready:function(event){var that=$(this);that.next().find('.mdtc-clnplrv-time').on('click',function(){that.next().find('.mdtc-clnplrv-current-time, .mdtc-clnplrv-duration').toggle();});if(settings.autoplay){that.jPlayerVideo('play');}
that.on('click',function(){that.data().jPlayerVideo.status.paused?that.jPlayerVideo('play'):that.jPlayerVideo('pause');});that.on('dblclick',function(){if(that.parent().hasClass('mdtc-clnplrv-state-full-screen')){that.jPlayerVideo('restoreScreen');}else{that.jPlayerVideo('fullScreen');}});that.next().find('.mdtc-clnplrv-fullscreen-btn').on('click',function(){if(that.parent().hasClass('mdtc-clnplrv-state-full-screen')){that.jPlayerVideo('restoreScreen');}else{that.jPlayerVideo('fullScreen');}});function resizeView(){if(that.next().is(':visible')){var width=that.width(),height=width/16*9;that.css('cssText','height:'+height+'px !important');if(width<450){that.parent().addClass('mdtc-clnplrv-responsive');}else{that.parent().removeClass('mdtc-clnplrv-responsive');}}};$(window).on('resize',function(){resizeView();});resizeView();setInterval(function(){resizeView();},250)
marquee(that);},play:function(event){$(this).jPlayerVideo("pauseOthers");},cssSelector:{title:'#current-song'},playlistOptions:{shuffleTime:150},size:{width:"100%",height:"100%"}};var playerListFiles=settings.playlist;var playerSelectors={jPlayerVideo:'.mdtc-clnplrv-cleanvideoplayer-id-'+currentId+' .mdtc-clnplrv-jplayer',cssSelectorAncestor:'.mdtc-clnplrv-cleanvideoplayer-id-'+currentId};var initPlayerVideo=new jPlayerVideoPlaylist(playerSelectors,playerListFiles,playerOptions);}else{$('.mdtc-clnplrv-cleanvideoplayer-id-'+currentId+' .mdtc-clnplrv-jplayer').jPlayerVideo({ready:function(event){$(this).jPlayerVideo('setMedia',settings.playlist[0]);var that=$(this);that.next().find('.mdtc-clnplrv-time').on('click',function(){that.next().find('.mdtc-clnplrv-current-time, .mdtc-clnplrv-duration').toggle();});if(settings.autoplay){$(this).jPlayerVideo('play');}
that.on('click',function(){that.data().jPlayerVideo.status.paused?that.jPlayerVideo('play'):that.jPlayerVideo('pause');});that.on('dblclick',function(){if(that.parent().hasClass('mdtc-clnplrv-state-full-screen')){that.jPlayerVideo('restoreScreen');}else{that.jPlayerVideo('fullScreen');}});that.next().find('.mdtc-clnplrv-fullscreen-btn').on('click',function(){if(that.parent().hasClass('mdtc-clnplrv-state-full-screen')){that.jPlayerVideo('restoreScreen');}else{that.jPlayerVideo('fullScreen');}});$(this).parent().addClass('mdtc-clnplrv-disabled-controls mdtc-clnplrv-solo-player');function resizeView(){if(that.next().is(':visible')){var width=that.width(),height=width/16*9;that.css('cssText','height:'+height+'px !important');if(width<450){that.parent().addClass('mdtc-clnplrv-responsive');}else{that.parent().removeClass('mdtc-clnplrv-responsive');}}};$(window).on('resize',function(){resizeView();});resizeView();setInterval(function(){resizeView();},250)
marquee(that);},play:function(event){$(this).jPlayerVideo('pauseOthers');},cssSelector:{title:'#current-song'},cssSelectorAncestor:'.mdtc-clnplrv-cleanvideoplayer-id-'+currentId,supplied:settings.supplied,size:{width:"100%",height:"100%"}});}});};var jPlayerYouTube={api:'https://www.youtube.com/iframe_api',load:(function(globals){var tag='script',first=document.getElementsByTagName(tag)[0],queue=[],script,loading;return function(callback){if(loading){return(queue)?queue.push(callback):callback();}
if(globals.YT&&globals.YT.Player){return callback();}
else if(globals.onYouTubeIframeAPIReady){queue.push(globals.onYouTubeIframeAPIReady);}
globals.onYouTubeIframeAPIReady=function(){while(queue.length!==0){try{queue.shift()();}catch(e){}}
queue=false;};loading=queue.push(callback);script=document.createElement(tag);script.src=jPlayerYouTube.api;first.parentNode.insertBefore(script,first);};})((0,eval)('this')),player:function(mediaElement,callback){var $mediaElement=$(mediaElement),key=mediaElement.id+'_youtube',data=function(){return $mediaElement.data.apply($mediaElement,[key].concat([].slice.call(arguments)));},meta=data()||data({player:false,queue:false})&&data();if(meta.player){return callback(meta.player);}
else if(meta.queue){return meta.queue.push(callback);}
meta.queue=[callback];jPlayerYouTube.load(function(){meta.container=mediaElement.parentNode.insertBefore(document.createElement('div'),mediaElement);meta.container.id=key;meta.player=new YT.Player(key,{height:$mediaElement.outerHeight(),width:$mediaElement.outerWidth(),playerVars:{'autoplay':0,'controls':0,'rel':0,'showinfo':1},events:{onReady:function(){while(meta.queue.length!==0){try{meta.queue.shift()(meta.player);}catch(e){}}
delete(meta.queue);$(window).on('resize',function(){meta.player.setSize($mediaElement.outerWidth(),$mediaElement.outerHeight());});},onStateChange:function(e){var state=['unstarted','ended','playing','paused','buffering','video cued'][e.data+1],params,jPlayer=mediaElement.getJPlayer(),update=function(override){jPlayer._getHtmlStatus(params,override);jPlayer._updateInterface();if(override){update();}};clearInterval(meta.interval);if(state==='ended'){mediaElement.emulateEvent('ended');}
else if(state==='paused'){mediaElement.emulateEvent('pause');}
else if(state==='playing'){mediaElement.emulateEvent('play');mediaElement.emulateEvent('playing');params={currentTime:meta.player.getCurrentTime(),duration:meta.player.getDuration(),videoWidth:$mediaElement.outerWidth(),videoHeight:$mediaElement.outerHeight(),ended:false,readyState:4,load:function(){},seekable:{length:1,end:function(){return params.duration;}}};update(true);meta.interval=setInterval(function(){params.currentTime=meta.player.getCurrentTime();params.ended=(params.currentTime>=params.duration);update();},1e3);if(!meta._html_playHead){meta._html_playHead=jPlayer._html_playHead;}
jPlayer._html_playHead=function(){var media=this.htmlElement.media,currentTime=meta.player.getCurrentTime(),returnValue;if(media.getVideoId()){params.currentTime=currentTime;this.htmlElement.media=params;returnValue=meta._html_playHead.apply(this,arguments);this.htmlElement.media=media;if(params.currentTime!==currentTime){meta.player.seekTo(params.currentTime);update();}}else{returnValue=meta._html_playHead.apply(this,arguments);}
return returnValue;}}}}});});},hooks:{'video':{getVideoId:function(){return function(){var $media=$(this);return(String($media.attr('src')||$media.data('src')).match(/(?:youtube\.com\/.*?[?&]v=|youtube:\/{2})([^&]+)/i)||[])[1];};},getJPlayer:function(){return function(){var node=this,player;do{player=$.data(node,'jPlayerVideo');node=node.parentNode;}while(node&&!player);return player;};},emulateEvent:function(){return function(eventType){if(typeof(this.dispatchEvent)==="function"){var event=document.createEvent('HTMLEvents');event.initEvent(eventType,true,true,window,0,0,0,0,0,false,false,false,false,0,this);this.dispatchEvent(event);}
else if(typeof(this.fireEvent)!=="undefined"){this.fireEvent("on"+eventType);}};},youtube:function(){return function(callback){return jPlayerYouTube.player(this,callback);};},toggleVideo:function(){return function(visible){this.getJPlayer().element.toggleClass('youtube-player',visible).find('video,img[id*="poster"]').css(visible?{position:'absolute',visibility:'visible',top:'1px'}:{position:'',visibility:'',opacity:'',top:''}).end().find('iframe').toggle(visible);};},addEventListener:function(underlying){return function(type,listener,useCapture){var media=this,$media=$(this);return underlying.call(this,type,function(e){var returnValue=listener.apply(this,arguments);if(media.getVideoId()){if($media.attr('src')&&/(?:abort|emptied|loadstart)/i.test(type)){$media.data('src',media.src).attr('src','');}
else if(/volumechange/i.test(type)){media.youtube(function(player){player.setVolume(media.getJPlayer().options.volume*100);});}
else if(/error/i.test(type)){media.getJPlayer().status.waitForLoad=false;}}
return returnValue;},useCapture);}},'canPlayType':function(underlying){return function(type){return(/youtube/i.test(type))?'probably':underlying.apply(this,arguments);};},'pause':function(underlying){return function(){var media=this;if(this.getVideoId()){return this.youtube(function(player){media.emulateEvent('pause');player.pauseVideo();});}
return underlying.apply(this,arguments);};},'play':function(underlying){return function(){var media=this;if(this.getVideoId()){return this.youtube(function(player){media.toggleVideo(true);player.playVideo();});}else if($(media).data('src')){this.youtube(function(player){player.stopVideo();});}
this.toggleVideo(false);return underlying.apply(this,arguments);};},'load':function(underlying){return function(){var media=this,videoId=this.getVideoId();if(videoId){return this.youtube(function(player){media.toggleVideo(true);player.cueVideoById(videoId);});}
this.toggleVideo(false);return underlying.apply(this,arguments);};}}},initialize:function(){var install=function(returnValue,tagName){var hooks=jPlayerYouTube.hooks[tagName]||{};for(var key in hooks){if(hooks.hasOwnProperty(key)){returnValue[key]=hooks[key].call(returnValue,returnValue[key]);}}
return returnValue;};$.jPlayerVideo.prototype.format.youtube={flashCanPlay:false,codec:'video/youtube; codecs="m4v"',media:'video'};if(typeof(HTMLVideoElement)!=='undefined'){install(HTMLVideoElement.prototype,'video');}else{document.createElement=(function(createElement){return function(tagName){return install(createElement.apply(this,arguments),String(tagName).toLowerCase());};})(document.createElement);}}};jPlayerYouTube.initialize();}(jQuery));$(function(){$('.mediatec-cleanvideoplayer').cleanvideoplayer();});